{"version":3,"file":"static/js/202.fd0d6288.chunk.js","mappings":"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","sources":["customApp/containers/CheckinOutv4/config.js","customApp/containers/CheckinOutv4/styled.js","customApp/containers/CheckinOut/PopoverCustom.js","customApp/containers/CheckinOutv4/card.checkin.js","customApp/containers/CheckinOutv4/modal.styled.js","customApp/containers/CheckinOutv4/modalBaoCao.js","customApp/containers/CheckinOutv4/ModalHangDoiCheckin.js","customApp/containers/CheckinOutv4/index.js","customApp/containers/CheckinOutv4/constants.js"],"sourcesContent":["import {\r\n  apiGetAuth, apiPostAuth, apiPostAuth2\r\n} from \"../../../api\";\r\nimport server from '../../../settings';\r\n\r\nconst apiUrl = {\r\n  // uploadimage: server.apiImage + 'ocr/recognition',\r\n  // verification: server.apiImage + 'face/verification',\r\n\r\n  uploadimage: server.apiImage + 'recognition',\r\n  verification: server.apiImage + 'verification',\r\n\r\n  checkin: server.apiInOut + 'VaoRa/Vao',\r\n  checkinv4: server.apiInOutv4 + 'VaoRa/Vao',\r\n  checkout: server.apiInOut + 'VaoRa/Ra',\r\n  checkoutv4: server.apiInOutv4 + 'VaoRa/Ra',\r\n  danhsachcanbo: server.apiInOut + 'HeThongCanBo/DanhSachCanBo_TrongCoQuanSuDungPhanMem',\r\n  danhsachletan: server.apiInOut + 'HeThongCanBo/GetDanhSachLeTan',\r\n  getbymathe: server.apiInOutv4 + 'VaoRa/GetByMaThe',\r\n  getbychandung: server.apiInOut + 'VaoRa/Get_By_AnhChanDung',\r\n  getimagecamera: server.apiInOut + 'VaoRa/Get_AnhChanDung_FromCamera',\r\n  getipcamera: server.apiInOut + 'SystemConfig/GetByKey',\r\n\r\n  getlistpaging: server.apiInOutv4 + 'VaoRa/GetListPageBySearch',\r\n  nhandien: server.apiInOutv4 + 'VaoRa/NhanDienKhuonMat',\r\n\r\n};\r\nconst api = {\r\n  UploadImage: (param) => {\r\n    return apiPostAuth2(apiUrl.uploadimage, {...param});\r\n  },\r\n  Checkin: (param) => {\r\n    return apiPostAuth(apiUrl.checkin, {...param});\r\n  },\r\n  Checkinv4: (param) => {\r\n    return apiPostAuth(apiUrl.checkinv4, {...param});\r\n  },\r\n  Checkout: (param) => {\r\n    return apiPostAuth(apiUrl.checkout, {...param});\r\n  },\r\n  Checkoutv4: (param) => {\r\n    return apiPostAuth(apiUrl.checkoutv4, {...param});\r\n  },\r\n  DanhSachCanBo: () => {\r\n    return apiGetAuth(apiUrl.danhsachcanbo);\r\n  },\r\n  DanhSachLeTan: () => {\r\n    return apiGetAuth(apiUrl.danhsachletan);\r\n  },\r\n  GetByMaThe: (param) => {\r\n    return apiGetAuth(apiUrl.getbymathe, {...param});\r\n  },\r\n  Verification: (param) => {\r\n    return apiPostAuth2(apiUrl.verification, {...param});\r\n  },\r\n  GetByChanDung: (param) => {\r\n    return apiPostAuth(apiUrl.getbychandung, {...param});\r\n  },\r\n  GetImageCamera: (param) => {\r\n    return apiGetAuth(apiUrl.getimagecamera, {...param});\r\n  },\r\n  GetIPCamera: (param) => {\r\n    return apiGetAuth(apiUrl.getipcamera, {...param});\r\n  },\r\n  GetList: (param) => {\r\n    return apiGetAuth(apiUrl.getlistpaging, {...param})\r\n  },\r\n  NhanDien: (param) => {\r\n    return apiPostAuth(apiUrl.nhandien, {...param})\r\n  }\r\n};\r\n\r\nexport default api;","import styled from 'styled-components';\r\n\r\nconst Wrapper = styled.div`\r\n  .title {\r\n    font-weight: bold;\r\n    font-size: 18px;\r\n    \r\n    .sub-title {\r\n      font-weight: normal;\r\n      font-size: 14px;\r\n    }\r\n  }\r\n  \r\n  .queue-title {\r\n    cursor: pointer;\r\n    text-decoration: underline;\r\n    color: #d9363e;\r\n  }\r\n  \r\n  .flex {\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n  \r\n  .center {\r\n    text-align: center;\r\n  }\r\n  \r\n  .ant-form .ant-form-item {\r\n    margin-bottom: 5px !important;\r\n  }\r\n\r\n  .col-container {\r\n    width: 100%;\r\n    display: flex;\r\n    padding: 5px 10px;\r\n    \r\n    .col {\r\n      margin-right: 10px;\r\n    \r\n      &:last-child {\r\n        margin-right: 0;\r\n      }\r\n    }\r\n    \r\n    .col-first {\r\n      // width: 50%;\r\n      \r\n      .box-container {\r\n        overflow: auto;\r\n        max-height: calc(100vh - 180px);\r\n      }\r\n      \r\n      .box {\r\n        box-shadow: rgba(0, 0, 0, 0.35) 0px 2px 2px;\r\n        border-radius: 4px;\r\n        margin-bottom: 10px;\r\n        overflow-y: auto;\r\n        overflow-x: hidden;\r\n      }\r\n      \r\n      .box-relative {\r\n        position: relative;\r\n      }\r\n      \r\n      .div-loading {\r\n        background-color: rgba(255, 255, 255, 0.6);\r\n        width: 100%;\r\n        height: 100%;\r\n        position: absolute;\r\n        top: 0;\r\n        z-index: 1000;\r\n        \r\n        .spin {\r\n          top: 50%;\r\n          left: 50%;\r\n          position: absolute;\r\n        }\r\n      }\r\n      \r\n      .box-camera {\r\n        box-shadow: none;\r\n        \r\n        .camera-content {\r\n          width: 100%;\r\n          height: 190px;\r\n          border: dotted 4px #ccc;\r\n          border-radius: 8px;\r\n          \r\n          .content {\r\n            height: 140px;\r\n            width: 100%;\r\n            text-align: center;\r\n            padding-top: 5px;\r\n            \r\n            .box-image {\r\n              position: relative;\r\n              \r\n              .close-ico {\r\n                color: #000;\r\n                position: absolute;\r\n                top: 0;\r\n                right: 5px;\r\n              }\r\n            }\r\n            \r\n            .camera-canvas {\r\n              display: flex;\r\n              position: relative;\r\n              justify-content: center;\r\n              \r\n              #detect-canvas {\r\n                position: absolute;\r\n              }\r\n            }\r\n          }\r\n          \r\n          .action {\r\n            text-align: center;\r\n            \r\n            button {\r\n              background: #ccc;\r\n              \r\n              &:hover {\r\n                &:not(.ant-btn[disabled]) {\r\n                  border-color: #ccc;\r\n                  color: #000;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      \r\n      .box-info {\r\n        padding: 20px;\r\n      \r\n        .ant-col {\r\n          margin-bottom: 0;\r\n        }\r\n        \r\n        .ant-input[disabled] {\r\n          color: rgba(0, 0, 0, 0.7);\r\n        }\r\n        \r\n        .ant-select-disabled {\r\n          color: rgba(0, 0, 0, 0.7);\r\n        }\r\n      }\r\n    }\r\n    \r\n    .col-second {\r\n      .boxSearch {\r\n        padding: 5px 25px;\r\n        \r\n        input {\r\n          border-radius: 14px;\r\n        }\r\n      }\r\n      \r\n      .card-container {\r\n        padding: 0 15px;\r\n        max-height: calc(100vh - 250px);\r\n        overflow: auto;\r\n      }\r\n    } \r\n    \r\n    .col-third {\r\n      .box-container {\r\n        padding: 0 15px;\r\n        overflow: auto;\r\n        min-height: 430px;\r\n        max-height: calc(100vh - 230px);\r\n        \r\n        .box-info {\r\n          width: 100%;\r\n          height: 120px;\r\n          box-shadow: rgba(0, 0, 0, 0.35) 0px 2px 2px;\r\n          border-radius: 8px;\r\n          margin-top: 15px;\r\n          position: relative;\r\n          background-size: cover;\r\n          background-position: center;\r\n          \r\n          &:last-child {\r\n            margin-bottom: 15px;\r\n          }\r\n          \r\n          .text-number {\r\n            color: #fff;\r\n            text-align: center;\r\n            font-size: 18px;\r\n            line-height: 50px;\r\n            background: rgba(84, 73, 241, 0.8);\r\n            position: absolute;\r\n            bottom: 0;\r\n            height: 50px;\r\n            width: 100%;\r\n            border-bottom-right-radius: 8px;\r\n            border-bottom-left-radius: 8px;\r\n          }\r\n        }\r\n      }\r\n      \r\n      .div-report {\r\n        margin-top: 20px;\r\n        border-top: solid 1px #ccc;\r\n        \r\n        .flex {\r\n          display: flex;\r\n        }\r\n        \r\n        .main-report {\r\n          // display: flex;\r\n          margin-top: 10px;\r\n          \r\n          .report-label {\r\n            font-weight: bold;\r\n            // width: 30%;\r\n          }\r\n          \r\n          .report-wrapper {\r\n            // width: 70%;\r\n          }\r\n        }\r\n        \r\n        .action-report {\r\n          width: 100%;\r\n          text-align: center;\r\n          margin-top: 15px;\r\n          \r\n          button {\r\n            border-radius: 8px;\r\n          }          \r\n        }\r\n      }\r\n    }   \r\n  }\r\n  \r\n  .div-footer {\r\n    width: 100%;\r\n    position: fixed;\r\n    bottom: 25px;   \r\n    background-color: #e8e8e8;\r\n    padding: 10px 0 20px 0;\r\n    z-index: 999;\r\n    border-top: solid 1px #ccc;\r\n    height: 75px;\r\n      \r\n    .div-action {\r\n      width: 100%;\r\n      text-align: center;\r\n    }\r\n  }\r\n  \r\n  .footer-main {\r\n    position: fixed;\r\n    bottom: 0;\r\n    width: 100%;\r\n    text-align: center;\r\n    color: black;\r\n    font-size: 12px;\r\n    font-family: generic-family, serif;\r\n    background-color: #fff;\r\n    z-index: 999;\r\n    height: 25px;\r\n    padding-bottom: 5px;\r\n  }\r\n  \r\n  .x-red {\r\n    text-align: center;\r\n    color: red;\r\n    font-weight: bold;\r\n    font-size: 16px;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nexport default Wrapper;","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport {Popover} from \"antd\";\r\n\r\nconst PopoverCustom = styled(Popover)`\r\n  \r\n`;\r\n\r\nexport default props => (\r\n  <PopoverCustom {...props}>\r\n    {props.children}\r\n  </PopoverCustom>\r\n);","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport {Icon, Button} from 'antd';\r\nimport moment from \"moment\";\r\n\r\nconst CardWrapper = styled.div`\r\n  width: 100%;\r\n  border: solid 1px #5449F1;\r\n  display: flex;\r\n  min-height: 75px;\r\n  margin: 10px 0;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  \r\n  &:hover {\r\n    border: solid 2px #5449F1;\r\n  }\r\n  \r\n  .image-div {\r\n    display: flex;\r\n    width: calc(100% / 3); \r\n    justify-content: center;\r\n    align-items: center;\r\n    \r\n    img {\r\n      //width: 100%;\r\n      //height: 75%;\r\n      max-height: 60px;\r\n    }\r\n    \r\n    .icon-empty {\r\n      font-size: 36px;\r\n      color: #ccc;\r\n    }\r\n  }\r\n  \r\n  .info-div {\r\n    width: calc(100% * 2 / 3);\r\n    padding: 5px 10px;\r\n    font-size: 14px;\r\n    position: relative;\r\n    \r\n    .info-mathe {\r\n      border: solid 1px #ccc;\r\n      border-radius: 4px;\r\n      width: 50px;\r\n      height: 20px;\r\n      line-height: 20px;\r\n      text-align: center;\r\n      font-weight: normal;\r\n      margin-left: auto;\r\n      order: 2;\r\n    }\r\n    \r\n    .info-giovao {\r\n      \r\n    }\r\n    \r\n    .info-name {\r\n      font-weight: bold;\r\n      display: flex;\r\n    }\r\n  }\r\n  \r\n  .btn-checkout {\r\n    background-color: rgba(96, 80, 244, 0.5);\r\n    color: #fff;\r\n    width: 30px;\r\n    height: 30px;\r\n    border-radius: 50%;\r\n    padding: 0;\r\n    position: absolute;\r\n    right: 5px;\r\n    bottom: 5px;\r\n    text-align: center;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    \r\n    &:hover {\r\n      background-color: #513ff3;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default props => <CardWrapper onClick={props.onClick}\r\n                                     style={{border: `${props.isPicked ? 'solid 2px #5449F1' : 'solid 1px #5449F1'}`}}>\r\n  <div className='image-div'>\r\n    {props.AnhChanDung !== \"\" || props.AnhCMT !== \"\" ?\r\n      <img src={props.AnhChanDung ? props.AnhChanDung : props.AnhCMT}/> : <Icon className='icon-empty' type=\"audit\"/>}\r\n  </div>\r\n  <div className='info-div'>\r\n    <div className='info-name'>\r\n      {props.TenCanBo}\r\n      {props.MaThe && props.MaThe !== \"\" ? <div className='info-mathe'>{props.MaThe}</div> : \"\"}\r\n    </div>\r\n    <div>Số giấy tờ: {props.SoCMT}</div>\r\n    <div className='info-giovao'>Giờ vào: {moment(props.GioVao).format(\"DD/MM/YYYY - HH:mm\")}</div>\r\n  </div>\r\n  <div className='btn-checkout' onClick={props.onCheckOut}>\r\n    <Icon type={'logout'}/>\r\n  </div>\r\n</CardWrapper>","import styled from 'styled-components';\r\n\r\nconst Wrapper = styled.div`\r\n  .title {\r\n    text-align: center;\r\n    width: 100%;\r\n    margin-bottom: 10px;\r\n  }\r\n  \r\n  .weight {\r\n    font-weight: bold;\r\n  }\r\n  \r\n  .queue-container {\r\n    .queue-item {\r\n      display: flex;\r\n      justify-items: center;\r\n      padding: 10px;\r\n      border-bottom: solid 1px #ccc;\r\n      \r\n      &:hover {\r\n        cursor: pointer;\r\n        color: #fff;\r\n        background: #8cc8ff;\r\n      }\r\n      \r\n      .action {\r\n        margin-left: auto;\r\n        \r\n        .anticon {\r\n          &:hover {\r\n            color: red;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport default Wrapper;","import React, {Component} from 'react';\r\nimport {message, Modal} from 'antd';\r\nimport Button from \"../../../components/uielements/button\";\r\nimport Wrapper from \"./modal.styled\";\r\nimport BoxTable from '../../../components/utility/boxTable';\r\nimport moment from 'moment';\r\n\r\nclass ModalBaoCao extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.refPrint = React.createRef();\r\n    this.state = {};\r\n  }\r\n\r\n  renderDivPrint = () => {\r\n    const {dataBaoCao, filterData} = this.props;\r\n    const table = {\r\n      table: {\r\n        width: '100%',\r\n        borderCollapse: 'collapse',\r\n        fontFamily: \"Times New Roman\"\r\n      },\r\n      th: {\r\n        textAlign: 'center',\r\n        fontWeight: 'bold',\r\n        border: 'solid 0.5pt #999',\r\n        padding: 5\r\n      },\r\n      td: {\r\n        border: 'solid 0.5pt #999',\r\n        padding: 5\r\n      }\r\n    };\r\n    return <table style={table.table}>\r\n      <tr>\r\n        <td colSpan={10} style={{...table.td, border: 'none', textAlign: 'center'}}>\r\n          <b>DANH SÁCH KHÁCH VÀO - RA CỦA CƠ QUAN</b>\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <td colSpan={10} style={{...table.td, border: 'none', textAlign: 'center'}}>\r\n          Từ ngày: {moment(filterData.TuNgay).format('DD/MM/YYYY')} - Đến\r\n          ngày: {moment(filterData.DenNgay).format('DD/MM/YYYY')}\r\n        </td>\r\n      </tr>\r\n      <tr/>\r\n      <tr>\r\n        <th style={{...table.th, width: 50}}>STT</th>\r\n        <th style={{...table.th, width: 200}}>Họ tên khách</th>\r\n        <th style={{...table.th, width: 200}}>Cơ quan</th>\r\n        <th style={{...table.th, width: 100}}>Số điện thoại</th>\r\n        <th style={{...table.th, width: 150}}>Số CMND</th>\r\n        <th style={{...table.th, width: 200}}>Địa chỉ</th>\r\n        <th style={{...table.th, width: 150}}>Ngày giờ vào</th>\r\n        <th style={{...table.th, width: 150}}>Ngày giờ ra</th>\r\n        <th style={{...table.th, width: 100}}>Thân nhiệt</th>\r\n        <th style={{...table.th, width: 200}}>Cán bộ gặp</th>\r\n        <th style={{...table.th, width: 200}}>Bộ phận</th>\r\n      </tr>\r\n      {dataBaoCao.map((item, index) => {\r\n        return (\r\n          <tr>\r\n            <td style={{...table.td, textAlign: \"center\"}}>{index + 1}</td>\r\n            <td style={{...table.td, textAlign: \"left\"}}>{item.HoVaTen}</td>\r\n            <td style={{...table.td, textAlign: \"left\"}}>{item.TenCoQuan}</td>\r\n            <td style={{...table.td, textAlign: \"center\"}}>{item.DienThoai}</td>\r\n            <td style={{...table.td, textAlign: \"center\"}}>{`'${item.SoCMND}`}</td>\r\n            <td style={{...table.td, textAlign: \"left\"}}>{item.HoKhau}</td>\r\n            <td style={{...table.td, textAlign: \"center\"}}>{moment(item.GioVao).format('DD/MM/YYYY HH:ss')}</td>\r\n            <td style={{\r\n              ...table.td,\r\n              textAlign: \"center\"\r\n            }}>{item.GioRa ? moment(item.GioRa).format('DD/MM/YYYY HH:ss') : \"\"}</td>\r\n            <td style={{...table.td, textAlign: \"center\"}}>{item.ThanNhiet ? `${item.ThanNhiet} °C` : \"\"}</td>\r\n            <td style={{...table.td, textAlign: \"left\"}}>{item.TenCanBoGap}</td>\r\n            <td style={{...table.td, textAlign: \"center\"}}>{item.TenBoPhanGap}</td>\r\n          </tr>\r\n        )\r\n      })}\r\n    </table>\r\n  };\r\n\r\n  exportExcel = () => {\r\n    let html, link, blob, url;\r\n    let preHtml = `<html><head><meta charset='utf-8'></head><body>`;\r\n    let postHtml = \"</body></html>\";\r\n    html = preHtml + this.refPrint.current.innerHTML + postHtml;\r\n    blob = new Blob(['\\ufeff', html], {\r\n      type: 'application/vnd.ms-excel'\r\n    });\r\n    url = URL.createObjectURL(blob);\r\n    link = document.createElement('A');\r\n    link.href = url;\r\n    link.download = 'Báo cáo ra vào.xls';  // default name without extension\r\n    document.body.appendChild(link);\r\n    if (navigator.msSaveOrOpenBlob) navigator.msSaveOrOpenBlob(blob, 'Báo cáo ra vào.xls'); // IE10-11\r\n    else link.click();  // other browsers\r\n    document.body.removeChild(link);\r\n  };\r\n\r\n  printComponent = () => {\r\n    //xoa iframe cu ------\r\n    let oldIframe = document.querySelectorAll('iframe');\r\n    if (oldIframe && oldIframe.length) {\r\n      oldIframe.forEach(element => {\r\n        element.parentNode.removeChild(element);\r\n      });\r\n    }\r\n    //tao iframe moi -----\r\n    const node = this.refPrint.current.innerHTML;\r\n    let iframe = document.createElement(\"iframe\");\r\n    iframe.style.display = \"none\";\r\n    document.body.appendChild(iframe); //make document #html in iframe\r\n    iframe.contentWindow.document.open();\r\n    iframe.contentWindow.document.write(node);\r\n    iframe.contentWindow.document.close();\r\n    iframe.contentWindow.focus();\r\n    iframe.contentWindow.print();\r\n  };\r\n\r\n  renderLyDoGap = (item) => {\r\n    switch (item.LyDoGap) {\r\n      case 1:\r\n        return \"Họp\";\r\n      case 2:\r\n        return `Gặp ${item.TenCanBoGap ? `cán bộ ${item.TenCanBoGap}` : item.TenBoPhanGap}`;\r\n      case 3:\r\n        return `Lý do khác${item.LyDoKhac ? `: ${item.LyDoKhac}` : ''}`\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {visible, onCancel, dataBaoCao, filterData} = this.props;\r\n\r\n    const column = [\r\n      {\r\n        title: 'STT',\r\n        align: 'center',\r\n        width: '5%',\r\n        render: (text, record, index) => index + 1\r\n      },\r\n      {\r\n        title: 'Họ tên khách',\r\n        dataIndex: 'HoVaTen',\r\n        width: '15%'\r\n      },\r\n      {\r\n        title: 'Cơ quan',\r\n        dataIndex: 'TenCoQuan',\r\n        width: '10%'\r\n      },\r\n      {\r\n        title: 'Số điện thoại',\r\n        dataIndex: 'DienThoai',\r\n        align: 'center',\r\n        width: '10%'\r\n      },\r\n      {\r\n        title: 'Số CMND',\r\n        dataIndex: 'SoCMND',\r\n        align: 'center',\r\n        width: '10%'\r\n      },\r\n      {\r\n        title: 'Địa chỉ',\r\n        dataIndex: 'HoKhau',\r\n        width: '10%'\r\n      },\r\n      {\r\n        title: 'Ngày giờ vào',\r\n        width: '10%',\r\n        align: 'center',\r\n        dataIndex: 'GioVao',\r\n        render: text => moment(text).format('DD/MM/YYYY HH:mm')\r\n      },\r\n      {\r\n        title: 'Ngày giờ ra',\r\n        width: '10%',\r\n        align: 'center',\r\n        dataIndex: 'GioRa',\r\n        render: (text, record) => record.GioRa ? moment(text).format('DD/MM/YYYY HH:mm') : \"\"\r\n      },\r\n      {\r\n        title: 'Thân nhiệt',\r\n        dataIndex: 'ThanNhiet',\r\n        width: '5%',\r\n        align: 'center',\r\n        render: (text, record) => record.ThanNhiet ? `${record.ThanNhiet} °C` : \"\"\r\n      },\r\n      {\r\n        title: 'Lý do gặp',\r\n        align: 'center',\r\n        width: '15%',\r\n        render: (text, record) => this.renderLyDoGap(record)\r\n      },\r\n      // {\r\n      //   title: 'Cán bộ gặp',\r\n      //   dataIndex: 'TenCanBoGap',\r\n      //   width: '10%'\r\n      // },\r\n      // {\r\n      //   title: 'Bộ phận',\r\n      //   dataIndex: 'TenBoPhanGap',\r\n      //   width: '10%'\r\n      // }\r\n    ];\r\n\r\n    return (\r\n      <Modal\r\n        title={''}\r\n        width={1200}\r\n        onCancel={onCancel}\r\n        visible={visible}\r\n        style={{top: 20}}\r\n        footer={\r\n          <div style={{textAlign: \"center\"}}>\r\n            <Button type={\"primary\"} onClick={this.printComponent}>In danh sách</Button>\r\n            <Button type={\"primary\"} style={{marginLeft: 20}} onClick={this.exportExcel}>Xuất excel</Button>\r\n          </div>\r\n        }\r\n      >\r\n        <Wrapper>\r\n          <div className={'title weight'}>\r\n            DANH SÁCH KHÁCH VÀO - RA CỦA CƠ QUAN\r\n          </div>\r\n          <div className={'title'}>\r\n            Từ ngày: {moment(filterData.TuNgay).format(\"DD/MM/YYYY\")} đến\r\n            ngày: {moment(filterData.DenNgay).format(\"DD/MM/YYYY\")}\r\n          </div>\r\n          <BoxTable columns={column}\r\n                    rowKey={'ThongTinVaoRaID'}\r\n                    dataSource={dataBaoCao}\r\n                    pagination={false}\r\n                    scroll={{y: 600}}/>\r\n          <div style={{display: \"none\"}}>\r\n            <div ref={this.refPrint}>\r\n              {this.renderDivPrint()}\r\n            </div>\r\n          </div>\r\n        </Wrapper>\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n\r\nexport {ModalBaoCao}","import React, {Component} from 'react';\r\nimport {Button, Modal} from \"../../../components/uielements/exportComponent\";\r\nimport Wrapper from \"./modal.styled\";\r\nimport {Icon} from 'antd';\r\n\r\nexport default class extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.refPrint = React.createRef();\r\n    this.state = {};\r\n  }\r\n\r\n  deleteLine = (e, index) => {\r\n    e.stopPropagation();\r\n    this.props.deleteLine(index);\r\n  };\r\n\r\n  render() {\r\n    const {visible, onCancel, listCheckin, chooseLine} = this.props;\r\n\r\n    return (\r\n      <Modal\r\n        title={'Danh sách hàng đợi checkin'}\r\n        width={450}\r\n        onCancel={onCancel}\r\n        visible={visible}\r\n        footer={null}\r\n      >\r\n        <Wrapper>\r\n          <div className={'queue-container'}>\r\n            {listCheckin.map((item, index) => (\r\n              <div className={'queue-item'} onClick={() => chooseLine(index)}>\r\n                <div className={'item'}>\r\n                  {item.HoVaTen} - Số giấy tờ: {item.SoCMND}\r\n                </div>\r\n                <div className={'action'}>\r\n                  <Icon type={'close'} onClick={(e) => this.deleteLine(e, index)}/>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </Wrapper>\r\n      </Modal>\r\n    );\r\n  }\r\n}","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport actions from \"../../redux/CheckinOut/actions\";\r\nimport appActions from \"../../../redux/app/actions\";\r\nimport api from \"./config\";\r\nimport apiBaoCao from \"../BaoCao/config\";\r\nimport Constants from \"../../../settings/constants\";\r\nimport {\r\n  Select,\r\n  Option,\r\n  DatePicker as DatePickerFormat,\r\n  Button,\r\n} from \"../../../components/uielements/exportComponent\";\r\nimport {\r\n  Upload,\r\n  Icon,\r\n  message,\r\n  Row,\r\n  Col,\r\n  Input,\r\n  Modal,\r\n  Spin,\r\n  Tooltip,\r\n} from \"antd\";\r\nimport { Form } from \"antd4\";\r\nimport TreeSelect from \"../../../components/uielements/treeSelect\";\r\nimport moment from \"moment\";\r\nimport Webcam from \"react-webcam\";\r\nimport Wrapper from \"./styled\";\r\nimport PopoverCustom from \"../CheckinOut/PopoverCustom\";\r\nimport iconGo from \"../../../image/logoGo.png\";\r\nimport CardCheckin from \"./card.checkin\";\r\nimport Constants2 from \"./constants\";\r\nimport queryString from \"query-string\";\r\nimport imgCheckin from \"../../../image/checkin.png\";\r\nimport imgCheckout from \"../../../image/checkout.png\";\r\nimport imgMetting from \"../../../image/meetting.png\";\r\nimport { ModalBaoCao } from \"./modalBaoCao\";\r\nimport ModalHangDoi from \"./ModalHangDoiCheckin\";\r\nimport { store } from \"../../../redux/store\";\r\nimport Redirect from \"react-router/Redirect\";\r\nimport lodash from \"lodash\";\r\nimport { getConfigLocal, socketConnect } from \"../../../helpers/utility\";\r\nimport * as faceapi from \"face-api.js\";\r\n\r\nconst { changeCurrent, setListTemperWait, getListTemperFromSite } = appActions;\r\nconst currentYear = new Date().getFullYear();\r\n\r\nconst { Item } = Form;\r\nconst { COL_COL_ITEM_LAYOUT_RIGHT } = Constants;\r\nconst { ITEM_LAYOUT_HALF, COL_ITEM_LAYOUT_HALF } = Constants2;\r\n\r\nlet today = new Date();\r\n\r\nclass CheckinOut extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    document.title = \"Checkin\";\r\n    this.interval = null;\r\n    this.webcamRefChanDung = React.createRef();\r\n    this.webcamRefTruoc = React.createRef();\r\n    this.webcamRefSau = React.createRef();\r\n    this.socket = null;\r\n    this.socketIO = null;\r\n    this.canvasRef = React.createRef();\r\n    this.videoCapture = null;\r\n    let filterData = queryString.parse(this.props.location.search);\r\n    filterData.PageNumber = filterData.PageNumber ? filterData.PageNumber : 1;\r\n    filterData.PageSize = 10;\r\n    filterData.Keyword = filterData.Keyword ? filterData.Keyword : \"\";\r\n    filterData.Type = 2;\r\n    this.state = {\r\n      imageCMTTruoc: \"\",\r\n      imageCMTSau: \"\",\r\n      imageChanDung: \"\",\r\n      loadingTruoc: false,\r\n      loadingSau: false,\r\n      loadingChanDung: false,\r\n      recognitionTruoc: false,\r\n      recognitionSau: false,\r\n      recognitionChanDung: false,\r\n      today: today,\r\n      dataCMT: {\r\n        HoVaTen: \"\",\r\n        NgaySinh: \"\",\r\n        HoKhau: \"\",\r\n        DienThoai: \"\",\r\n        SoCMND: \"\",\r\n        NoiCapCMND: \"\",\r\n        NgayCapCMND: \"\",\r\n        GapCanBo: undefined,\r\n        MaThe: \"\",\r\n        GioVao: \"\",\r\n        TenCoQuan: \"\",\r\n        GioiTinh: undefined,\r\n        ThanNhiet: \"\",\r\n        LoaiGiayTo: \"\",\r\n        LyDoGap: undefined,\r\n        LyDoKhac: \"\",\r\n      },\r\n      loading: false,\r\n      isCheckOut: false, //Kiểm tra trạng thái hiện tại có phải là checkout hay không\r\n      ThongTinVaoRaID: 0,\r\n      checkCheckOut: false, //Kiểm tra đã checkout hay chưa\r\n      isCheckIn: false,\r\n      showCamera: true,\r\n      visiblePopoverMaThe: false,\r\n      visiblePopoverHoTen: false,\r\n      visiblePopoverCMND: false,\r\n      dataPopover: null,\r\n      loadingSearchMaThe: false,\r\n      loadingSearchHoTen: false,\r\n      loadingSearchCMND: false,\r\n      selectIndex: -1,\r\n      //Camera\r\n      videoInput: [],\r\n      isScanFile: false,\r\n      keyCamera: 0,\r\n      //\r\n      filterData: filterData,\r\n      TotalRow: 0,\r\n      ListCheckinLoaded: [],\r\n      //\r\n      filterBaoCao: {\r\n        TuNgay: moment(),\r\n        DenNgay: moment(),\r\n        LeTanID: undefined,\r\n        CanBoGapID: undefined,\r\n      },\r\n      ListBaoCao: [],\r\n      showBaoCao: false,\r\n      modalKey: 0,\r\n      loadingBaoCao: false,\r\n      //\r\n      listTemper: [],\r\n      temperUsing: {},\r\n      visibleBadge: false,\r\n      //\r\n      listCheckin: [],\r\n      visibleModalHangDoi: false,\r\n      sessionCode: \"\",\r\n      loadingDataScan: false,\r\n      dataScan: {},\r\n    };\r\n  }\r\n\r\n  changeLoadingDataScan = (loading) => {\r\n    this.setState({ ...this.state, loadingDataScan: loading });\r\n  };\r\n\r\n  handleConnectSocketScan = () => {\r\n    const socket = new WebSocket(\"ws://localhost:5431?key=123\");\r\n    console.log(\"start connect websocket\");\r\n    // Khi mở kết nối\r\n    socket.onopen = () => {\r\n      console.log(\"✅ Đã kết nối tới ws://localhost:5431\");\r\n      // Gửi thử 1 message lên server (nếu cần)\r\n      // socket.send(\"Hello Server\");\r\n    };\r\n\r\n    // Khi nhận dữ liệu từ server\r\n    socket.onmessage = (event) => {\r\n      this.changeLoadingDataScan(true);\r\n      const data = JSON.parse(event.data);\r\n      console.log(data.status === \"ALL_STEP_DONE\", data.status);\r\n      if (data.status === \"ALL_STEP_DONE\") {\r\n        console.log(\"📩 Data nhận được done: \" + JSON.parse(event.data));\r\n        console.log(\"link photo\", data.cardObj.facePhoto);\r\n        // this.changeLoadingDataScan(false);\r\n        this.setState({\r\n          loadingDataScan: false,\r\n          dataCMT: {\r\n            ...this.state.dataCMT,\r\n            HoVaTen: data.cardObj.fullName,\r\n            GioiTinh: data.cardObj.sex,\r\n            SoCMND: data.cardObj.identityNumber,\r\n            LoaiGiayTo: \"CCCD\",\r\n            HoKhau: data.cardObj.placeOfResidence,\r\n            SoCMND: data.cardObj.identityNumber,\r\n          },\r\n          // imageCMTTruoc: \"data:image/jpeg;base64,\" + data.cardObj.sod,\r\n          imageChanDung: \"data:image/jpeg;base64,\" + data.faceObj.faceImage,\r\n        });\r\n      }\r\n      console.log(\"📩 Data nhận được: \" + JSON.parse(event.data));\r\n    };\r\n\r\n    // Khi có lỗi\r\n    socket.onerror = (error) => {\r\n      this.changeLoadingDataScan(false);\r\n      console.log(\"❌ Lỗi: \" + error);\r\n    };\r\n\r\n    // Khi kết nối đóng\r\n    socket.onclose = () => {\r\n      this.changeLoadingDataScan(false);\r\n      console.log(\"🔌 Kết nối đã đóng\");\r\n    };\r\n  };\r\n\r\n  //Get initData---------------------------------------------\r\n  componentDidMount = async () => {\r\n    this.handleConnectSocketScan();\r\n    this.props.getInitData(this.state.filterData);\r\n    this.interval = setInterval(() => {\r\n      today = new Date();\r\n      this.setState({ today });\r\n    }, 1000);\r\n    this.getCamera();\r\n    //GetListCheckIn\r\n    this.GetListCheckin();\r\n    //EventListener\r\n    const container = document.getElementsByClassName(\"card-container\");\r\n    container[0] &&\r\n      container[0].addEventListener(\"scroll\", this.ScrollContainer);\r\n    //\r\n    this.socket && this.socket.close();\r\n    this.connect();\r\n    //\r\n    this.socketIO && this.socketIO.stop();\r\n    this.socketIO = socketConnect();\r\n    await this.socketIO.start();\r\n    this.socketIO.on(\"scan\", (data) => {\r\n      this.setDataOnSocket(data);\r\n    });\r\n    // get list temper wait from app\r\n    this.getListTemperFromTopBar();\r\n    //\r\n    const MODEL_URL = process.env.PUBLIC_URL + \"/model\";\r\n    await faceapi.nets.tinyFaceDetector.loadFromUri(MODEL_URL);\r\n    await faceapi.nets.faceLandmark68Net.loadFromUri(MODEL_URL);\r\n    await faceapi.nets.ssdMobilenetv1.loadFromUri(MODEL_URL);\r\n    // await faceapi.nets.faceRecognitionNet.loadFromUri(MODEL_URL);\r\n    // await faceapi.nets.faceExpressionNet.loadFromUri(MODEL_URL);\r\n    // await faceapi.nets.ageGenderNet.loadFromUri(MODEL_URL);\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.interval);\r\n    clearInterval(this.videoCapture);\r\n    this.socket && this.socket.close();\r\n    //\r\n    this.socketIO && this.socketIO.stop();\r\n    //\r\n    const { listTemper } = this.state;\r\n    if (listTemper.length) {\r\n      this.props.getListTemperFromSite(listTemper);\r\n    }\r\n  }\r\n\r\n  connect = () => {\r\n    this.socket = new WebSocket(\"ws://localhost:8000\");\r\n\r\n    // websocket onopen event listener\r\n    this.socket.onopen = () => {\r\n      console.log(\"Socket temperate connected\");\r\n    };\r\n\r\n    // websocket onclose event listener\r\n    this.socket.onclose = (e) => {\r\n      console.log(\"Socket temperate disconnected\", e);\r\n    };\r\n\r\n    // websocket onerror event listener\r\n    this.socket.onerror = (err) => {\r\n      // message.destroy();\r\n      // message.error(err.message);\r\n      console.error(\r\n        \"Socket temperate encountered error: \",\r\n        err,\r\n        \"Closing socket temperate\"\r\n      );\r\n\r\n      this.socket.close();\r\n    };\r\n\r\n    this.socket.onmessage = (data) => {\r\n      this.handleOnTemper(data);\r\n    };\r\n  };\r\n\r\n  handleOnTemper = (data) => {\r\n    try {\r\n      const temper = JSON.parse(data.data);\r\n      if (temper.status) {\r\n        temper.timeDate = moment(temper.time, \"YYYYMMDDHHmmss\");\r\n        temper.timeString = moment(temper.time, \"YYYYMMDDHHmmss\").format(\r\n          \"DD/MM/YYYY HH:mm:ss\"\r\n        );\r\n        console.log(temper.timeString, temper);\r\n        const { listTemper, temperUsing } = this.state;\r\n        if (temperUsing.time) {\r\n          listTemper.push(temper);\r\n          this.setState({ listTemper });\r\n        } else {\r\n          this.selectTemper(temper);\r\n        }\r\n      } else {\r\n        //Thông báo lỗi nếu socket trả về lỗi\r\n        // message.destroy();\r\n        // message.error(temper.detail);\r\n      }\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  setDataOnSocket = (data) => {\r\n    // console.log(data, 'from guest');\r\n    const { dataCMT, listCheckin } = this.state;\r\n    let user = localStorage.getItem(\"user\");\r\n    user = JSON.parse(user);\r\n    const CoQuanSuDungPhanMem = user.CoQuanSuDungPhanMem;\r\n    if (CoQuanSuDungPhanMem == data.coQuanSuDungPhanMem) {\r\n      const dataScan = {\r\n        ...dataCMT,\r\n        HoVaTen: data.hoVaTen,\r\n        SoCMND: data.soCMND,\r\n        HoKhau: data.hoKhau,\r\n        LoaiGiayTo: data.loaiGiayTo,\r\n        GioiTinh: data.gioiTinh,\r\n        sessionCode: data.sessionCode,\r\n        CoQuanSuDungPhanMem: data.coQuanSuDungPhanMem,\r\n        LyDoGap: data.lyDoGap,\r\n        GapCanBo: `${data.gapCanBo}_${data.donViCaNhan}`,\r\n        DienThoai: data.dienThoai,\r\n        TenCoQuan: data.tenCoQuan,\r\n      };\r\n      if (dataCMT.HoVaTen !== \"\" || dataCMT.SoCMND !== \"\") {\r\n        //cho vào hàng đợi\r\n        listCheckin.push({\r\n          ...dataScan,\r\n          imageCMTTruoc: data.anhCMND_MTBase64,\r\n          ThanNhiet: \"\",\r\n        });\r\n      } else {\r\n        //điền form\r\n        this.setState({\r\n          dataCMT: dataScan,\r\n          imageCMTTruoc: data.anhCMND_MTBase64,\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  getListTemperFromTopBar = () => {\r\n    const { app } = this.props;\r\n    const { temperWait } = app;\r\n    if (temperWait.length) {\r\n      const temperUsing = temperWait[0];\r\n      this.selectTemper(temperUsing);\r\n      if (temperWait.length > 1) {\r\n        const listTemper = temperWait.slice(1, temperWait.length);\r\n        this.setState({ listTemper });\r\n      }\r\n      this.props.setListTemperWait(false);\r\n    }\r\n  };\r\n\r\n  ScrollContainer = (e) => {\r\n    const container = e.target;\r\n    const isBottom =\r\n      container.scrollTop === container.scrollHeight - container.clientHeight;\r\n    if (isBottom) {\r\n      let filterData = this.state.filterData;\r\n      const { ListCheckinLoaded, TotalRow } = this.state;\r\n      if (ListCheckinLoaded.length < TotalRow) {\r\n        filterData.PageNumber += 1;\r\n        // changeUrlFilter(filterData); //change url\r\n        this.setState({ filterData }, () => this.GetListCheckin());\r\n      }\r\n    }\r\n  };\r\n\r\n  GetListCheckin = () => {\r\n    let { filterData, ListCheckinLoaded, TotalRow } = this.state;\r\n    api.GetList({ ...filterData }).then((response) => {\r\n      if (response.data.Status > 0) {\r\n        if (filterData.PageNumber === 1) {\r\n          //Case mới load page\r\n          ListCheckinLoaded = response.data.Data;\r\n        } else {\r\n          //Case load thêm\r\n          response.data.Data.forEach((item) => ListCheckinLoaded.push(item));\r\n        }\r\n        TotalRow = response.data.TotalRow;\r\n        this.setState({ ListCheckinLoaded, TotalRow });\r\n      }\r\n    });\r\n  };\r\n\r\n  onSearch = (value, property) => {\r\n    let { filterData } = this.state;\r\n    filterData[property] = value;\r\n    filterData.PageNumber = 1;\r\n    this.setState({ filterData, ListCheckinLoaded: [] }, () =>\r\n      this.GetListCheckin()\r\n    );\r\n  };\r\n\r\n  fillData = (data, type) => {\r\n    const { dataCMT } = this.state;\r\n    dataCMT.HoVaTen =\r\n      data.name !== \"N/A\" ? data.name : type === 2 ? dataCMT.HoVaTen : \"\";\r\n    dataCMT.NgaySinh =\r\n      data.birthday !== \"N/A\"\r\n        ? moment(data.birthday, \"DD-MM-YYYY\")\r\n        : type === 2\r\n        ? dataCMT.NgaySinh\r\n        : \"\";\r\n    dataCMT.HoKhau =\r\n      data.address !== \"N/A\" ? data.address : type === 2 ? dataCMT.HoKhau : \"\";\r\n    dataCMT.SoCMND =\r\n      data.id !== \"N/A\" ? data.id : type === 2 ? dataCMT.SoCMND : \"\";\r\n    dataCMT.NoiCapCMND =\r\n      data.issue_by !== \"N/A\"\r\n        ? data.issue_by\r\n        : type === 1\r\n        ? dataCMT.NoiCapCMND\r\n        : \"\";\r\n    dataCMT.NgayCapCMND =\r\n      data.issue_date !== \"N/A\"\r\n        ? moment(data.issue_date, \"DD-MM-YYYY\")\r\n        : type === 1\r\n        ? dataCMT.NgayCapCMND\r\n        : \"\";\r\n    dataCMT.GioiTinh =\r\n      data.sex !== \"N/A\" ? data.sex : type === 2 ? dataCMT.GioiTinh : undefined;\r\n    dataCMT.LoaiGiayTo =\r\n      data.document !== \"N/A\"\r\n        ? data.document\r\n        : type === 2\r\n        ? dataCMT.LoaiGiayTo\r\n        : \"\";\r\n    //type: 1 - Mặt trước 2 - Mặt sau\r\n    if (type === 1) {\r\n      if (data.name === \"N/A\" || data.id === \"N/A\") {\r\n        message.destroy();\r\n        message.warning(\"Ảnh CMND mặt trước không hợp lệ\");\r\n      }\r\n    } else if (type === 2) {\r\n      if (data.name !== \"N/A\" || data.id !== \"N/A\") {\r\n        message.destroy();\r\n        message.warning(\"Ảnh CMND mặt sau không hợp lệ\");\r\n      }\r\n    }\r\n    this.setState({ dataCMT });\r\n  };\r\n\r\n  inputNumber = (e) => {\r\n    const key = e.charCode;\r\n    if (key < 48 || key > 57) {\r\n      e.preventDefault();\r\n    }\r\n  };\r\n\r\n  CheckIn = () => {\r\n    const param = { ...this.state.dataCMT };\r\n    param.NgaySinh =\r\n      param.NgaySinh !== \"\"\r\n        ? moment(param.NgaySinh, \"DD/MM/YYYY\").format(\"YYYY-MM-DD\")\r\n        : \"\";\r\n    param.NgayCapCMND =\r\n      param.NgayCapCMND !== \"\"\r\n        ? moment(param.NgayCapCMND, \"DD/MM/YYYY\").format(\"YYYY-MM-DD\")\r\n        : \"\";\r\n    param.AnhChanDungBase64 = this.state.imageChanDung;\r\n    param.AnhCMND_MTBase64 = this.state.imageCMTTruoc;\r\n    param.AnhCMND_MSBase64 = this.state.imageCMTSau;\r\n    delete param.GioVao;\r\n    if (param.LyDoGap === undefined) {\r\n      message.destroy();\r\n      message.warning(\"Chưa chọn lý do vào cơ quan\");\r\n      return;\r\n    } else {\r\n      if (param.LyDoGap === 2) {\r\n        if (param.GapCanBo === undefined) {\r\n          message.destroy();\r\n          message.warning(\"Chưa chọn đối tượng gặp\");\r\n          return;\r\n        } else {\r\n          const arr = param.GapCanBo.split(\"_\");\r\n          param.GapCanBo = arr[0];\r\n          param.DonViCaNhan = arr[1];\r\n        }\r\n      } else {\r\n        param.GapCanBo = 0;\r\n        param.DonViCaNhan = 0;\r\n      }\r\n    }\r\n    // if (param.MaThe === \"\") {\r\n    //   message.destroy();\r\n    //   message.warning('Chưa nhập mã thẻ');\r\n    //   return;\r\n    // }\r\n    this.setState({ loading: true });\r\n    api\r\n      .Checkinv4(param)\r\n      .then((response) => {\r\n        if (response.data.Status > 0) {\r\n          const dataCMT = {\r\n            HoVaTen: \"\",\r\n            NgaySinh: \"\",\r\n            HoKhau: \"\",\r\n            DienThoai: \"\",\r\n            SoCMND: \"\",\r\n            NoiCapCMND: \"\",\r\n            NgayCapCMND: \"\",\r\n            GapCanBo: undefined,\r\n            MaThe: \"\",\r\n            LyDoGap: undefined,\r\n          };\r\n          Modal.success({\r\n            title: \"Thông báo\",\r\n            content: `Checkin thành công`,\r\n            okText: \"Đóng\",\r\n            onOk: () => {\r\n              let { filterData } = this.state;\r\n              filterData.PageNumber = 1;\r\n              this.setState(\r\n                {\r\n                  dataCMT,\r\n                  loading: false,\r\n                  imageCMTTruoc: \"\",\r\n                  imageCMTSau: \"\",\r\n                  imageChanDung: \"\",\r\n                  isCheckIn: false,\r\n                  showCamera: true,\r\n                  ListCheckinLoaded: [],\r\n                  filterData,\r\n                  temperUsing: {},\r\n                },\r\n                () => {\r\n                  this.props.getList();\r\n                  this.GetListCheckin();\r\n                  this.handlePlayChanDung();\r\n                }\r\n              );\r\n            },\r\n          });\r\n          //\r\n          const dataSocket = response.data.Data;\r\n          if (this.socketIO.connectionState === \"Connected\") {\r\n            this.socketIO.invoke(\"scan\", {\r\n              ...dataSocket,\r\n              sessionCode: param.sessionCode,\r\n            });\r\n          }\r\n        } else {\r\n          this.setState({ loading: false });\r\n          message.destroy();\r\n          message.error(response.data.Message);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        this.setState({ loading: false });\r\n        message.destroy();\r\n        message.error(error.toString());\r\n      });\r\n  };\r\n\r\n  CheckInv4 = () => {\r\n    const param = { ...this.state.dataCMT };\r\n    param.NgaySinh =\r\n      param.NgaySinh !== \"\"\r\n        ? moment(param.NgaySinh, \"DD/MM/YYYY\").format(\"YYYY-MM-DD\")\r\n        : \"\";\r\n    param.NgayCapCMND =\r\n      param.NgayCapCMND !== \"\"\r\n        ? moment(param.NgayCapCMND, \"DD/MM/YYYY\").format(\"YYYY-MM-DD\")\r\n        : \"\";\r\n    param.AnhChanDungBase64 = this.state.imageChanDung;\r\n    param.AnhCMND_MTBase64 = this.state.imageCMTTruoc;\r\n    param.AnhCMND_MSBase64 = this.state.imageCMTSau;\r\n    delete param.GioVao;\r\n    if (param.LyDoGap === undefined) {\r\n      message.destroy();\r\n      message.warning(\"Chưa chọn lý do vào cơ quan\");\r\n      return;\r\n    } else {\r\n      if (param.LyDoGap === 2) {\r\n        if (param.GapCanBo === undefined) {\r\n          message.destroy();\r\n          message.warning(\"Chưa chọn đối tượng gặp\");\r\n          return;\r\n        } else {\r\n          const arr = param.GapCanBo.split(\"_\");\r\n          param.GapCanBo = arr[0];\r\n          param.DonViCaNhan = arr[1];\r\n        }\r\n      } else {\r\n        param.GapCanBo = 0;\r\n        param.DonViCaNhan = 0;\r\n      }\r\n    }\r\n    this.setState({ loading: true });\r\n    api\r\n      .Checkinv4(param)\r\n      .then((response) => {\r\n        if (response.data.Status > 0) {\r\n          message.destroy();\r\n          message.success(\"Cán bộ checkin thành công\");\r\n          const dataCMT = {\r\n            HoVaTen: \"\",\r\n            NgaySinh: \"\",\r\n            HoKhau: \"\",\r\n            DienThoai: \"\",\r\n            SoCMND: \"\",\r\n            NoiCapCMND: \"\",\r\n            NgayCapCMND: \"\",\r\n            GapCanBo: undefined,\r\n            MaThe: \"\",\r\n            LyDoGap: undefined,\r\n          };\r\n          let { filterData } = this.state;\r\n          filterData.PageNumber = 1;\r\n          this.setState(\r\n            {\r\n              dataCMT,\r\n              loading: false,\r\n              imageCMTTruoc: \"\",\r\n              imageCMTSau: \"\",\r\n              imageChanDung: \"\",\r\n              isCheckIn: false,\r\n              showCamera: true,\r\n              ListCheckinLoaded: [],\r\n              filterData,\r\n              temperUsing: {},\r\n            },\r\n            () => {\r\n              this.props.getList();\r\n              this.GetListCheckin();\r\n              this.handlePlayChanDung();\r\n            }\r\n          );\r\n          //\r\n          const dataSocket = response.data.Data;\r\n          if (this.socketIO.connectionState === \"Connected\") {\r\n            this.socketIO.invoke(\"scan\", {\r\n              ...dataSocket,\r\n              sessionCode: param.sessionCode,\r\n            });\r\n          }\r\n        } else {\r\n          this.setState({ loading: false });\r\n          message.destroy();\r\n          message.error(response.data.Message);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        this.setState({ loading: false });\r\n        message.destroy();\r\n        message.error(error.toString());\r\n      });\r\n  };\r\n\r\n  CheckOut = () => {\r\n    const param = { ThongTinVaoRaID: this.state.dataCMT.ThongTinVaoRaID };\r\n    this.setState({ loading: true });\r\n    api\r\n      .Checkoutv4(param)\r\n      .then((response) => {\r\n        if (response.data.Status > 0) {\r\n          const dataCMT = {\r\n            HoVaTen: \"\",\r\n            NgaySinh: \"\",\r\n            HoKhau: \"\",\r\n            DienThoai: \"\",\r\n            SoCMND: \"\",\r\n            NoiCapCMND: \"\",\r\n            NgayCapCMND: \"\",\r\n            GapCanBo: undefined,\r\n            MaThe: \"\",\r\n            LyDoGap: undefined,\r\n            ThongTinVaoRaID: 0,\r\n          };\r\n          Modal.success({\r\n            title: \"Thông báo\",\r\n            content: \"Checkout thành công\",\r\n            okText: \"Đóng\",\r\n            onOk: () => {\r\n              let { filterData } = this.state;\r\n              filterData.PageNumber = 1;\r\n              this.setState(\r\n                {\r\n                  dataCMT,\r\n                  loading: false,\r\n                  imageCMTTruoc: \"\",\r\n                  imageCMTSau: \"\",\r\n                  imageChanDung: \"\",\r\n                  isCheckOut: false,\r\n                  showCamera: true,\r\n                  ListCheckinLoaded: [],\r\n                  filterData,\r\n                },\r\n                () => {\r\n                  this.props.getList();\r\n                  this.GetListCheckin();\r\n                  this.handlePlayChanDung();\r\n                }\r\n              );\r\n            },\r\n          });\r\n        } else {\r\n          this.setState({ loading: false });\r\n          message.destroy();\r\n          message.error(response.data.Message);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        this.setState({ loading: false });\r\n        message.destroy();\r\n        message.error(error.toString());\r\n      });\r\n  };\r\n\r\n  CheckOutv4 = () => {\r\n    const param = { ThongTinVaoRaID: this.state.dataCMT.ThongTinVaoRaID };\r\n    this.setState({ loading: true });\r\n    api\r\n      .Checkoutv4(param)\r\n      .then((response) => {\r\n        this.setState({ loading: false });\r\n        if (response.data.Status > 0) {\r\n          if (response.data.Status !== 3) {\r\n            message.destroy();\r\n            message.success(\"Cán bộ checkout thành công\");\r\n          }\r\n          const dataCMT = {\r\n            HoVaTen: \"\",\r\n            NgaySinh: \"\",\r\n            HoKhau: \"\",\r\n            DienThoai: \"\",\r\n            SoCMND: \"\",\r\n            NoiCapCMND: \"\",\r\n            NgayCapCMND: \"\",\r\n            GapCanBo: undefined,\r\n            MaThe: \"\",\r\n            LyDoGap: undefined,\r\n            ThongTinVaoRaID: 0,\r\n          };\r\n          let { filterData } = this.state;\r\n          filterData.PageNumber = 1;\r\n          this.setState(\r\n            {\r\n              dataCMT,\r\n              imageCMTTruoc: \"\",\r\n              imageCMTSau: \"\",\r\n              imageChanDung: \"\",\r\n              isCheckOut: false,\r\n              showCamera: true,\r\n              ListCheckinLoaded: [],\r\n              filterData,\r\n            },\r\n            () => {\r\n              this.props.getList();\r\n              this.GetListCheckin();\r\n              this.handlePlayChanDung();\r\n            }\r\n          );\r\n        } else {\r\n          this.setState({ loading: false });\r\n          message.destroy();\r\n          message.error(response.data.Message);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        this.setState({ loading: false });\r\n        message.destroy();\r\n        message.error(error.toString());\r\n      });\r\n  };\r\n\r\n  callCheckOut = (e, ThongTinVaoRaID) => {\r\n    e.stopPropagation();\r\n    Modal.confirm({\r\n      title: \"Checkout\",\r\n      content: \"Bạn có muốn checkout khách này không ?\",\r\n      okText: \"Có\",\r\n      cancelText: \"Không\",\r\n      onOk: () => {\r\n        const param = { ThongTinVaoRaID };\r\n        api\r\n          .Checkout(param)\r\n          .then((response) => {\r\n            if (response.data.Status > 0) {\r\n              const dataCMT = {\r\n                HoVaTen: \"\",\r\n                NgaySinh: \"\",\r\n                HoKhau: \"\",\r\n                DienThoai: \"\",\r\n                SoCMND: \"\",\r\n                NoiCapCMND: \"\",\r\n                NgayCapCMND: \"\",\r\n                GapCanBo: undefined,\r\n                MaThe: \"\",\r\n                LyDoGap: undefined,\r\n              };\r\n              Modal.success({\r\n                title: \"Thông báo\",\r\n                content: \"Checkout thành công\",\r\n                okText: \"Đóng\",\r\n                onOk: () => {\r\n                  let { filterData } = this.state;\r\n                  filterData.PageNumber = 1;\r\n                  this.setState(\r\n                    {\r\n                      loading: false,\r\n                      isCheckOut: false,\r\n                      showCamera: true,\r\n                      ListCheckinLoaded: [],\r\n                      filterData,\r\n                    },\r\n                    () => {\r\n                      this.props.getList();\r\n                      this.GetListCheckin();\r\n                    }\r\n                  );\r\n                },\r\n              });\r\n            } else {\r\n              this.setState({ loading: false });\r\n              message.destroy();\r\n              message.error(response.data.Message);\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            this.setState({ loading: false });\r\n            message.destroy();\r\n            message.error(error.toString());\r\n          });\r\n      },\r\n    });\r\n  };\r\n\r\n  changeCanBo = (value) => {\r\n    const { dataCMT } = this.state;\r\n    dataCMT.GapCanBo = value;\r\n    this.setState({ dataCMT });\r\n  };\r\n\r\n  scanFile = (type) => {\r\n    const { videoInput } = this.state;\r\n    if (type === 3) {\r\n      const showCamera = !this.state.showCamera;\r\n      if (!videoInput.length) {\r\n        this.getCamera();\r\n      }\r\n      this.setState({ showCamera, imageChanDung: \"\" });\r\n    } else if (type === 1) {\r\n      const base64 = this.webcamRefTruoc.current.getScreenshot({\r\n        width: 1200,\r\n        height: 1000,\r\n      });\r\n      this.setState({\r\n        imageCMTTruoc: base64,\r\n        loadingTruoc: false,\r\n        recognitionTruoc: true,\r\n      });\r\n      api\r\n        .UploadImage({ image: base64 })\r\n        .then((response) => {\r\n          if (response.data.result_code === 200) {\r\n            this.fillData(response.data, type);\r\n            this.setState({\r\n              recognitionTruoc: false,\r\n            });\r\n          } else if (response.data.result_code === 500) {\r\n            this.setState({ recognitionTruoc: false });\r\n            message.destroy();\r\n            message.error(\"Ảnh CMND mặt trước không hợp lệ\");\r\n          } else {\r\n            this.setState({ recognitionTruoc: false });\r\n            message.destroy();\r\n            message.error(response.data.result_message);\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          this.setState({ recognitionTruoc: false });\r\n          message.destroy();\r\n          message.error(error.toString());\r\n        });\r\n    } else if (type === 2) {\r\n      const base64 = this.webcamRefSau.current.getScreenshot({\r\n        width: 1200,\r\n        height: 1000,\r\n      });\r\n      this.setState({\r\n        imageCMTSau: base64,\r\n        loadingSau: false,\r\n        recognitionSau: true,\r\n      });\r\n      api\r\n        .UploadImage({ image: base64 })\r\n        .then((response) => {\r\n          if (response.data.result_code === 200) {\r\n            this.fillData(response.data, type);\r\n            this.setState({\r\n              recognitionSau: false,\r\n            });\r\n          } else if (response.data.result_code === 500) {\r\n            this.setState({ recognitionSau: false });\r\n            message.destroy();\r\n            message.error(\"Ảnh CMND mặt trước không hợp lệ\");\r\n          } else {\r\n            this.setState({ recognitionSau: false });\r\n            message.destroy();\r\n            message.error(response.data.result_message);\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          this.setState({ recognitionSau: false });\r\n          message.destroy();\r\n          message.error(error.toString());\r\n        });\r\n    } else {\r\n      this.Scan(type);\r\n    }\r\n  };\r\n\r\n  triggerUpload = () => {\r\n    clearInterval(this.videoCapture);\r\n    this.setState({ loadingChanDung: true });\r\n    let imageChanDung = this.webcamRefChanDung.current.getScreenshot({\r\n      width: 600,\r\n      height: 500,\r\n    });\r\n    this.setState({ imageChanDung, showCamera: false, loadingChanDung: false });\r\n    const { imageCMTTruoc, imageCMTSau } = this.state;\r\n    if (imageCMTTruoc === \"\" && imageCMTSau === \"\") {\r\n      //do nothing\r\n    } else {\r\n      const param = {\r\n        image_cmt: imageCMTTruoc,\r\n        image_cmt2: imageCMTSau,\r\n        image_live: imageChanDung,\r\n      };\r\n      this.setState({ recognitionChanDung: true });\r\n      api\r\n        .Verification(param)\r\n        .then((response) => {\r\n          if (response.data.verify_result === 2) {\r\n            this.setState({ isCheckIn: true, recognitionChanDung: false });\r\n          } else {\r\n            message.destroy();\r\n            message.warning(\"Ảnh chân dung không khớp với ảnh chứng minh thư\");\r\n            this.setState({ isCheckIn: false, recognitionChanDung: false });\r\n            this.scanFile(3);\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          this.setState({ imageChanDung: \"\", recognitionChanDung: false });\r\n          message.destroy();\r\n          message.error(\r\n            \"Có lỗi xảy ra khi nhận diện khuôn mặt. Vui lòng thử lại\"\r\n          );\r\n        });\r\n    }\r\n  };\r\n\r\n  reload = () => {\r\n    Modal.confirm({\r\n      title: \"Thông báo\",\r\n      content: \"Bạn có muốn hủy tác vụ hiện tại không ?\",\r\n      okText: \"Có\",\r\n      cancelText: \"Không\",\r\n      onOk: () => {\r\n        let { keyCamera } = this.state;\r\n        keyCamera++;\r\n        this.setState(\r\n          {\r\n            imageCMTTruoc: \"\",\r\n            imageCMTSau: \"\",\r\n            imageChanDung: \"\",\r\n            loadingTruoc: false,\r\n            loadingSau: false,\r\n            loadingChanDung: false,\r\n            recognitionTruoc: false,\r\n            recognitionSau: false,\r\n            recognitionChanDung: false,\r\n            today: today,\r\n            dataCMT: {\r\n              HoVaTen: \"\",\r\n              NgaySinh: \"\",\r\n              HoKhau: \"\",\r\n              DienThoai: \"\",\r\n              SoCMND: \"\",\r\n              NoiCapCMND: \"\",\r\n              NgayCapCMND: \"\",\r\n              GapCanBo: undefined,\r\n              MaThe: \"\",\r\n              GioVao: \"\",\r\n              TenCoQuan: \"\",\r\n              GioiTinh: undefined,\r\n              ThanNhiet: \"\",\r\n              LoaiGiayTo: \"\",\r\n              LyDoGap: undefined,\r\n              LyDoKhac: \"\",\r\n            },\r\n            loading: false,\r\n            isCheckOut: false, //Kiểm tra trạng thái hiện tại có phải là checkout hay không\r\n            ThongTinVaoRaID: \"\",\r\n            checkCheckOut: false, //Kiểm tra đã checkout hay chưa\r\n            isCheckIn: false,\r\n            showCamera: true,\r\n            visiblePopoverMaThe: false,\r\n            visiblePopoverHoTen: false,\r\n            visiblePopoverCMND: false,\r\n            dataPopover: null,\r\n            loadingSearchMaThe: false,\r\n            loadingSearchHoTen: false,\r\n            loadingSearchCMND: false,\r\n            selectIndex: -1,\r\n            //Camera\r\n            videoInput: [],\r\n            isScanFile: false,\r\n            keyCamera,\r\n            loadingBaoCao: false,\r\n            //\r\n            listTemper: [],\r\n            temperUsing: {},\r\n            visibleBadge: false,\r\n            //\r\n            listCheckin: [],\r\n            visibleModalHangDoi: false,\r\n            sessionCode: \"\",\r\n          },\r\n          () => {\r\n            this.getCamera();\r\n            this.props.getList();\r\n            this.handlePlayChanDung();\r\n          }\r\n        );\r\n      },\r\n    });\r\n  };\r\n\r\n  changeValueCMT = (properties, value) => {\r\n    const { dataCMT } = this.state;\r\n    if (properties === \"HoVaTen\") {\r\n      value = value.toUpperCase();\r\n    }\r\n    dataCMT[properties] = value;\r\n    this.setState({ dataCMT });\r\n  };\r\n\r\n  contentPopover = (data, type) => {\r\n    const { selectIndex } = this.state;\r\n    let element = \"\";\r\n    let widthPopover = 400;\r\n    if (type === 1) {\r\n      element = document.getElementById(\"txtMaThe\");\r\n    } else if (type === 2) {\r\n      element = document.getElementById(\"txtCMND\");\r\n    } else if (type === 3) {\r\n      element = document.getElementById(\"txtHoTen\");\r\n    }\r\n    widthPopover = element ? element.clientWidth : widthPopover;\r\n    if (data) {\r\n      return (\r\n        <div>\r\n          {data.map((item, index) => {\r\n            const className =\r\n              index % 2 !== 0\r\n                ? index === selectIndex\r\n                  ? \"even-row\"\r\n                  : \"odd-row\"\r\n                : index === selectIndex\r\n                ? \"even-row\"\r\n                : \"\";\r\n            return (\r\n              <div\r\n                className={`hover-content ${className}`}\r\n                style={{\r\n                  width: widthPopover,\r\n                  padding: index === 0 ? \"5px 12px\" : \"10px 12px\",\r\n                }}\r\n                onClick={() => this.loadDataCheckOut(item)}\r\n              >\r\n                <b>{item.HoVaTen}</b>\r\n                <br />\r\n                <i style={{ paddingLeft: 15 }}>{item.SoCMND}</i>\r\n                <br />\r\n                {item.TenCoQuan !== \"\" ? (\r\n                  <i style={{ paddingLeft: 15 }}>{item.TenCoQuan}</i>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  loadDataCheckOut = (data) => {\r\n    clearInterval(this.videoCapture);\r\n    const dataCMT = lodash.cloneDeep(data);\r\n    dataCMT.NgaySinh = dataCMT.NgaySinh ? moment(dataCMT.NgaySinh) : \"\";\r\n    dataCMT.NgayCapCMND = dataCMT.NgayCapCMND\r\n      ? moment(dataCMT.NgayCapCMND)\r\n      : \"\";\r\n    dataCMT.GapCanBo = `${data.GapCanBo}_${data.DonViCaNhan}`;\r\n    this.setState({\r\n      selectIndex: -1,\r\n      visiblePopoverMaThe: false,\r\n      visiblePopoverCMND: false,\r\n      visiblePopoverHoTen: false,\r\n      isCheckOut: dataCMT.GioRa === null,\r\n      dataCMT,\r\n      checkCheckOut: dataCMT.GioRa !== null,\r\n      imageCMTTruoc: dataCMT.AnhCMND_MTBase64 ? dataCMT.AnhCMND_MTBase64 : \"\",\r\n      imageCMTSau: dataCMT.AnhCMND_MSBase64 ? dataCMT.AnhCMND_MSBase64 : \"\",\r\n      imageChanDung: dataCMT.AnhChanDungBase64 ? dataCMT.AnhChanDungBase64 : \"\",\r\n    });\r\n  };\r\n\r\n  getCamera = () => {\r\n    if (navigator.getUserMedia) {\r\n      navigator.mediaDevices\r\n        .enumerateDevices()\r\n        .then((devices) => {\r\n          const videoInput = devices.filter(\r\n            (device) => device.kind === \"videoinput\"\r\n          );\r\n          if (videoInput.length) {\r\n            this.setState({ videoInput });\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          message.error(error.toString());\r\n        });\r\n    }\r\n  };\r\n\r\n  blurMaThe = (value, type) => {\r\n    if (value === \"\") {\r\n      return;\r\n    }\r\n    if (this.state.selectIndex >= 0) {\r\n      return;\r\n    }\r\n    const { isCheckOut, checkCheckOut } = this.state;\r\n    const param = { MaThe: value, LoaiCheckOut: type };\r\n    if (type === 1) {\r\n      this.setState({ loadingSearchMaThe: true });\r\n    } else if (type === 2) {\r\n      this.setState({ loadingSearchCMND: true });\r\n    } else if (type === 3) {\r\n      this.setState({ loadingSearchHoTen: true });\r\n    }\r\n    api\r\n      .GetByMaThe(param)\r\n      .then((response) => {\r\n        if (type === 1) {\r\n          this.setState({ loadingSearchMaThe: false });\r\n        } else if (type === 2) {\r\n          this.setState({ loadingSearchCMND: false });\r\n        } else if (type === 3) {\r\n          this.setState({ loadingSearchHoTen: false });\r\n        }\r\n        if (response.data.Status > 0) {\r\n          // const {imageCMTTruoc, imageCMTSau} = this.state;\r\n          // const dataCMT = response.data.Data;\r\n          // if ((imageCMTTruoc !== \"\" || imageCMTSau !== \"\") && type === 1) {\r\n          //   if (!isCheckOut && !checkCheckOut) {\r\n          //     if (dataCMT.length > 0) {\r\n          //       message.destroy();\r\n          //       message.warning('Mã thẻ đã được sử dụng. Xin mời nhập lại mã thẻ khác');\r\n          //       const dataCMTInput = this.state.dataCMT;\r\n          //       dataCMTInput.MaThe = \"\";\r\n          //       this.setState({dataCMT: dataCMTInput});\r\n          //     }\r\n          //   }\r\n          // } else {\r\n          const dataPopover = response.data.Data;\r\n          if (dataPopover.length > 0) {\r\n            this.setState({ dataPopover });\r\n            if (type === 1) {\r\n              this.setState({ visiblePopoverMaThe: true });\r\n            } else if (type === 2) {\r\n              this.setState({ visiblePopoverCMND: true });\r\n            } else if (type === 3) {\r\n              this.setState({ visiblePopoverHoTen: true });\r\n            }\r\n          }\r\n          //}\r\n        } else {\r\n          // message.destroy();\r\n          // message.info('Không có dữ liệu')\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        message.destroy();\r\n        message.error(error.toString());\r\n      });\r\n  };\r\n\r\n  changeFilterBaoCao = (value, property) => {\r\n    const { filterBaoCao } = this.state;\r\n    if (property === \"CanBoGapID\" && value) {\r\n      const arr = value.split(\"_\");\r\n      filterBaoCao.CanBoGapID = arr[0];\r\n      filterBaoCao.DonViCaNhan = arr[1];\r\n    } else {\r\n      filterBaoCao[property] = value;\r\n    }\r\n    this.setState({ filterBaoCao });\r\n  };\r\n\r\n  TaoBaoCao = () => {\r\n    const filterData = Object.assign({}, this.state.filterBaoCao);\r\n    if (\r\n      filterData.TuNgay === \"\" ||\r\n      filterData.DenNgay === \"\" ||\r\n      filterData.TuNgay === null ||\r\n      filterData.DenNgay === null\r\n    ) {\r\n      message.destroy();\r\n      message.warning(\"Chưa nhập kỳ báo cáo\");\r\n      return;\r\n    }\r\n    filterData.TuNgay = moment(filterData.TuNgay).format(\"YYYY-MM-DD\");\r\n    filterData.DenNgay = moment(filterData.DenNgay).format(\"YYYY-MM-DD\");\r\n    this.setState({ loadingBaoCao: true });\r\n    apiBaoCao\r\n      .TaoBaoCao(filterData)\r\n      .then((response) => {\r\n        this.setState({ loadingBaoCao: false });\r\n        if (response.data.Status > 0) {\r\n          if (!response.data.Data) {\r\n            message.destroy();\r\n            message.warning(\"Kỳ báo cáo hiện tại không có dữ liệu\");\r\n            this.setState({ ListBaoCao: [], showBaoCao: false });\r\n            return;\r\n          }\r\n          let { modalKey } = this.state;\r\n          modalKey++;\r\n          this.setState({\r\n            showBaoCao: true,\r\n            ListBaoCao: response.data.Data,\r\n            modalKey,\r\n          });\r\n        } else {\r\n          message.destroy();\r\n          message.error(response.data.Message);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        this.setState({ loadingBaoCao: false });\r\n        message.destroy();\r\n        message.error(error.toString());\r\n      });\r\n  };\r\n\r\n  closeBaoCao = () => {\r\n    this.setState({ showBaoCao: false });\r\n  };\r\n\r\n  clearImage = (type) => {\r\n    let { imageCMTTruoc, imageCMTSau, imageChanDung, isCheckOut } = this.state;\r\n    if (type === 1) {\r\n      imageCMTTruoc = \"\";\r\n    } else if (type === 2) {\r\n      imageCMTSau = \"\";\r\n    } else if (type === 3) {\r\n      imageChanDung = \"\";\r\n      !isCheckOut && this.handlePlayChanDung();\r\n    }\r\n    this.setState({ imageCMTTruoc, imageCMTSau, imageChanDung });\r\n  };\r\n\r\n  selectIndex = (e) => {\r\n    const {\r\n      visiblePopoverMaThe,\r\n      visiblePopoverCMND,\r\n      visiblePopoverHoTen,\r\n      dataPopover,\r\n    } = this.state;\r\n    let { selectIndex } = this.state;\r\n    const keyCode = e.keyCode;\r\n    if (visiblePopoverMaThe || visiblePopoverCMND || visiblePopoverHoTen) {\r\n      if (keyCode === 40 && selectIndex < dataPopover.length - 1) {\r\n        //Down\r\n        selectIndex++;\r\n      } else if (keyCode === 38) {\r\n        //Up\r\n        if (selectIndex > -1) {\r\n          selectIndex--;\r\n        }\r\n      }\r\n      if (keyCode === 27) {\r\n        this.setState({\r\n          visiblePopoverMaThe: false,\r\n          visiblePopoverCMND: false,\r\n          visiblePopoverHoTen: false,\r\n        });\r\n      }\r\n      this.setState({ selectIndex });\r\n    }\r\n    if (selectIndex >= 0 && keyCode === 13) {\r\n      this.loadDataCheckOut(dataPopover[selectIndex]);\r\n    }\r\n  };\r\n\r\n  handleVisibleBadge = (visibleBadge) => {\r\n    this.setState({ visibleBadge });\r\n  };\r\n\r\n  getContentBadge = () => {\r\n    const { listTemper } = this.state;\r\n    const element = document.getElementById(\"txtTemper\");\r\n    const widthPopover = element ? element.clientWidth + 30 : 300;\r\n    return (\r\n      <div className={\"badge-container\"}>\r\n        {listTemper.map((item) => (\r\n          <div\r\n            className={\"badge-item\"}\r\n            style={{ width: widthPopover }}\r\n            onClick={() => this.selectTemper(item)}\r\n          >\r\n            Thời gian đo:{\" \"}\r\n            {moment(item.time, \"YYYYMMDDHHmmss\").format(\"HH:mm:ss\")} - Kết quả:{\" \"}\r\n            {item.temperature} °C\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  selectTemper = (temper) => {\r\n    const { listTemper } = this.state;\r\n    const { thanNhiet } = this.props;\r\n    const index = listTemper.findIndex((item) => item.time === temper.time);\r\n    if (index >= 0) {\r\n      listTemper.splice(index, 1);\r\n      this.setState({ listTemper, visibleBadge: false });\r\n    }\r\n    this.setState({ temperUsing: temper });\r\n    this.changeValueCMT(\"ThanNhiet\", temper.temperature);\r\n    if (parseFloat(temper.temperature) > parseFloat(thanNhiet)) {\r\n      Modal.warn({\r\n        title: \"Cảnh báo\",\r\n        content: \"Cảnh báo thân nhiệt cao !!!\",\r\n        okText: \"Đóng\",\r\n      });\r\n    }\r\n  };\r\n\r\n  changeVisiblePopoverMaThe = (visible) => {\r\n    if (!visible) {\r\n      this.setState({ visiblePopoverMaThe: visible, selectIndex: -1 });\r\n    }\r\n  };\r\n\r\n  changeVisiblePopoverHoTen = (visible) => {\r\n    if (!visible) {\r\n      this.setState({ visiblePopoverHoTen: visible, selectIndex: -1 });\r\n    }\r\n  };\r\n\r\n  changeVisiblePopoverCMND = (visible) => {\r\n    if (!visible) {\r\n      this.setState({ visiblePopoverCMND: visible, selectIndex: -1 });\r\n    }\r\n  };\r\n\r\n  clearUsing = () => {\r\n    this.setState({ temperUsing: {} });\r\n    this.changeValueCMT(\"ThanNhiet\", \"\");\r\n  };\r\n\r\n  openModalHangDoi = () => {\r\n    let { modalKey } = this.state;\r\n    modalKey++;\r\n    this.setState({ visibleModalHangDoi: true, modalKey });\r\n  };\r\n\r\n  closeModalHangDoi = () => {\r\n    this.setState({ visibleModalHangDoi: false });\r\n  };\r\n\r\n  chonHangDoiCheckin = (index) => {\r\n    const { listCheckin, dataCMT } = this.state;\r\n    const dataFromList = listCheckin[index];\r\n    listCheckin.splice(index, 1);\r\n    dataFromList.ThanNhiet = dataCMT.ThanNhiet ? dataCMT.ThanNhiet : \"\";\r\n    this.setState({\r\n      dataCMT: { ...dataCMT, ...dataFromList },\r\n      imageCMTTruoc: dataFromList.imageCMTTruoc,\r\n      listCheckin,\r\n    });\r\n    this.closeModalHangDoi();\r\n  };\r\n\r\n  xoaHangDoiCheckin = (index) => {\r\n    const { listCheckin } = this.state;\r\n    listCheckin.splice(index, 1);\r\n    if (!listCheckin.length) {\r\n      this.closeModalHangDoi();\r\n    }\r\n    this.setState({ listCheckin });\r\n  };\r\n\r\n  handlePlayChanDung = () => {\r\n    clearInterval(this.videoCapture);\r\n    this.videoCapture = setInterval(async () => {\r\n      const videoSource = document.getElementById(\"camera-chan-dung\");\r\n      if (this.canvasRef.current && videoSource.readyState >= 1) {\r\n        this.canvasRef.current.innerHTML =\r\n          faceapi.createCanvasFromMedia(videoSource);\r\n        const displaySize = {\r\n          width: videoSource.offsetWidth,\r\n          height: videoSource.offsetHeight,\r\n        };\r\n        faceapi.matchDimensions(this.canvasRef.current, displaySize);\r\n        const detection = await faceapi.detectAllFaces(\r\n          videoSource,\r\n          new faceapi.TinyFaceDetectorOptions()\r\n        );\r\n        const resizedDetection = faceapi.resizeResults(detection, displaySize);\r\n\r\n        this.canvasRef.current\r\n          .getContext(\"2d\")\r\n          .clearRect(0, 0, videoSource.width, videoSource.height);\r\n        faceapi.draw.drawDetections(this.canvasRef.current, resizedDetection);\r\n        if (detection.length) {\r\n          const AnhChanDungBase64 =\r\n            this.webcamRefChanDung.current.getScreenshot({\r\n              width: 600,\r\n              height: 500,\r\n            });\r\n          api.NhanDien({ AnhChanDungBase64 }).then((response) => {\r\n            const data = response && response.data;\r\n            if (data.Status > 0) {\r\n              if (data.Status == 3) {\r\n                return;\r\n              }\r\n              if (data.Data && data.Data.CanBoID) {\r\n                clearInterval(this.videoCapture);\r\n                //Nhận diện thành công trong hệ thống\r\n                const { Data } = data;\r\n                this.loadDataFromNhanDien(Data);\r\n              } else {\r\n                //Không nhận diện được\r\n              }\r\n            } else {\r\n              message.destroy();\r\n              message.error(data.Message);\r\n            }\r\n          });\r\n        }\r\n      }\r\n    }, 3000);\r\n  };\r\n\r\n  loadDataFromNhanDien = (data) => {\r\n    const { dataCMT } = this.state;\r\n    const { thanNhiet } = this.props;\r\n    const dataNhanDien = { ...data };\r\n    let isCheckOut = false;\r\n    dataCMT.NgaySinh = dataNhanDien.NgaySinh\r\n      ? moment(dataNhanDien.NgaySinh)\r\n      : dataCMT.NgaySinh;\r\n    dataCMT.NgayCapCMND = dataNhanDien.NgayCapCMND\r\n      ? moment(dataNhanDien.NgayCapCMND)\r\n      : dataCMT.NgayCapCMND;\r\n    dataCMT.HoVaTen = dataNhanDien.HoVaTen\r\n      ? dataNhanDien.HoVaTen\r\n      : dataCMT.HoVaTen;\r\n    dataCMT.GioiTinh = dataNhanDien.GioiTinh\r\n      ? dataNhanDien.GioiTinh\r\n      : dataCMT.GioiTinh;\r\n    dataCMT.HoKhau = dataNhanDien.HoKhau ? dataNhanDien.HoKhau : dataCMT.HoKhau;\r\n    dataCMT.DienThoai = dataNhanDien.DienThoai\r\n      ? dataNhanDien.DienThoai\r\n      : dataCMT.DienThoai;\r\n    dataCMT.LoaiGiayTo = dataNhanDien.LoaiGiayTo\r\n      ? dataNhanDien.LoaiGiayTo\r\n      : dataCMT.LoaiGiayTo;\r\n    dataCMT.TenCoQuan = dataNhanDien.TenCoQuan\r\n      ? dataNhanDien.TenCoQuan\r\n      : dataCMT.TenCoQuan;\r\n    dataCMT.SoCMND = dataNhanDien.SoCMND ? dataNhanDien.SoCMND : dataCMT.SoCMND;\r\n    dataCMT.LaCanBo = dataNhanDien.LaCanBo;\r\n    dataCMT.CanBoID = dataNhanDien.CanBoID;\r\n    if (dataNhanDien.LaCanBo) {\r\n      dataCMT.LyDoGap = 1;\r\n    }\r\n    isCheckOut = !!dataNhanDien.ThongTinVaoRaID;\r\n    this.setState(\r\n      {\r\n        isCheckOut,\r\n        dataCMT,\r\n        imageCMTTruoc: dataNhanDien.AnhCMND_MTBase64\r\n          ? dataNhanDien.AnhCMND_MTBase64\r\n          : \"\",\r\n        imageCMTSau: dataNhanDien.AnhCMND_MSBase64\r\n          ? dataNhanDien.AnhCMND_MSBase64\r\n          : \"\",\r\n        imageChanDung: dataNhanDien.AnhChanDungBase64\r\n          ? dataNhanDien.AnhChanDungBase64\r\n          : \"\",\r\n      },\r\n      () => {\r\n        if (dataNhanDien.ThongTinVaoRaID) {\r\n          dataCMT.GapCanBo = `${dataNhanDien.GapCanBo}_${dataNhanDien.DonViCaNhan}`;\r\n          dataCMT.LyDoGap = dataNhanDien.LyDoGap;\r\n          dataCMT.GioVao = dataNhanDien.GioVao;\r\n          dataCMT.ThongTinVaoRaID = dataNhanDien.ThongTinVaoRaID;\r\n          if (dataNhanDien.LaCanBo) {\r\n            this.setState({ dataCMT }, () => {\r\n              this.CheckOutv4();\r\n            });\r\n          }\r\n        } else {\r\n          //pending checkin ???\r\n          if (dataNhanDien.LaCanBo) {\r\n            if (\r\n              dataCMT.ThanNhiet &&\r\n              parseFloat(dataCMT.ThanNhiet) < parseFloat(thanNhiet)\r\n            ) {\r\n              //Checkin tự động\r\n              this.CheckInv4();\r\n            } else {\r\n              this.CheckInv4();\r\n            }\r\n          }\r\n        }\r\n      }\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const user_id = parseInt(localStorage.getItem(\"user_id\"));\r\n    const user = store.getState().Auth.user;\r\n    if (user && user.NguoiDungID === 1) {\r\n      //Là admin\r\n      return <Redirect to={\"co-quan-don-vi\"} />;\r\n    }\r\n    //Props, state\r\n    const { role, roleBaoCao, DanhSachLeTan, TongHopNgay, DoiTuongGap } =\r\n      this.props;\r\n    const {\r\n      ListCheckinLoaded,\r\n      ListBaoCao,\r\n      filterBaoCao,\r\n      showBaoCao,\r\n      loadingBaoCao,\r\n    } = this.state;\r\n    const listRole = JSON.parse(localStorage.getItem(\"role\"));\r\n    const roleCheckin = listRole ? listRole[\"checkin-out\"] : null;\r\n    if (!roleCheckin || !roleCheckin.view === 0) {\r\n      this.props.history.push(\"/dashboard\");\r\n    }\r\n    const {\r\n      imageCMTTruoc,\r\n      imageCMTSau,\r\n      imageChanDung,\r\n      loadingTruoc,\r\n      loadingSau,\r\n      loadingChanDung,\r\n      dataCMT,\r\n      isCheckOut,\r\n      loading,\r\n      checkCheckOut,\r\n      isCheckIn,\r\n      recognitionTruoc,\r\n      recognitionSau,\r\n      recognitionChanDung,\r\n      visiblePopoverMaThe,\r\n      dataPopover,\r\n      visiblePopoverHoTen,\r\n      visiblePopoverCMND,\r\n      loadingSearchMaThe,\r\n      loadingSearchCMND,\r\n      loadingSearchHoTen,\r\n      loadingDataScan,\r\n      videoInput,\r\n      isScanFile,\r\n      keyCamera,\r\n    } = this.state;\r\n    const {\r\n      listTemper,\r\n      temperUsing,\r\n      visibleBadge,\r\n      listCheckin,\r\n      visibleModalHangDoi,\r\n      modalKey,\r\n    } = this.state;\r\n    //Props dragger\r\n\r\n    const valueGioVaoHS = moment(isCheckOut ? dataCMT.GioVao : today).format(\r\n      \"HH:mm\"\r\n    );\r\n    const valueGioVaoDMY = moment(isCheckOut ? dataCMT.GioVao : today).format(\r\n      \"DD/MM/YYYY\"\r\n    );\r\n\r\n    const valueGioRaHS =\r\n      checkCheckOut || isCheckOut ? moment(dataCMT.GioRa).format(\"HH:mm\") : \"\";\r\n    const valueGioRaDMY =\r\n      checkCheckOut || isCheckOut\r\n        ? moment(dataCMT.GioRa).format(\"DD/MM/YYYY\")\r\n        : \"\";\r\n\r\n    const videoConstraints = {\r\n      width: 1200,\r\n      height: 1000,\r\n    };\r\n    const deviceIDChanDung = videoInput.find((item) =>\r\n      item.label.includes(\"USB CAM2\")\r\n    );\r\n    const deviceIDScan = videoInput.find((item) => item.label.includes(\"S520\"));\r\n    const cameraContentChanDung = (\r\n      <Webcam\r\n        audio={false}\r\n        id={\"camera-chan-dung\"}\r\n        ref={this.webcamRefChanDung}\r\n        screenshotFormat=\"image/jpeg\"\r\n        videoConstraints={{\r\n          ...videoConstraints,\r\n          deviceId:\r\n            deviceIDChanDung && deviceIDChanDung.deviceId\r\n              ? deviceIDChanDung.deviceId\r\n              : \"\",\r\n        }}\r\n        key={\r\n          deviceIDChanDung && deviceIDChanDung.deviceId\r\n            ? deviceIDChanDung.deviceId\r\n            : \"\"\r\n        }\r\n        style={{ zoom: 0.15 }}\r\n        onUserMedia={this.handlePlayChanDung}\r\n      />\r\n    );\r\n\r\n    const cameraContentScan = (\r\n      <Webcam\r\n        audio={false}\r\n        ref={this.webcamRefTruoc}\r\n        screenshotFormat=\"image/jpeg\"\r\n        videoConstraints={{\r\n          ...videoConstraints,\r\n          deviceId:\r\n            deviceIDScan && deviceIDScan.deviceId ? deviceIDScan.deviceId : \"\",\r\n          // facingMode: {exact: 'environment'},\r\n        }}\r\n        style={{ zoom: 0.15 }}\r\n        key={deviceIDScan && deviceIDScan.deviceId ? deviceIDScan.deviceId : \"\"}\r\n      />\r\n    );\r\n\r\n    const contentCameraEmpty = isCheckOut ? (\r\n      <Icon type={\"audit\"} style={{ fontSize: 50, color: \"#ccc\" }} />\r\n    ) : (\r\n      \"\"\r\n    );\r\n    return (\r\n      <Wrapper>\r\n        <Row className=\"col-container\">\r\n          <Col\r\n            xl={14}\r\n            lg={12}\r\n            md={12}\r\n            sm={24}\r\n            xs={24}\r\n            className=\"col col-first\"\r\n          >\r\n            <div className=\"box-container\">\r\n              <div className=\"box box-camera\">\r\n                <Row gutter={24}>\r\n                  <Col xl={4} lg={0} />\r\n                  <Col xl={8} lg={24}>\r\n                    <div className={\"camera-content\"}>\r\n                      <div className=\"content\">\r\n                        {loadingTruoc ? (\r\n                          <Icon type={\"loading\"} />\r\n                        ) : imageCMTTruoc !== \"\" ? (\r\n                          <div className={\"box-image\"}>\r\n                            {imageCMTTruoc !== \"\" && !isCheckOut ? (\r\n                              <Icon\r\n                                className={\"close-ico\"}\r\n                                type={\"close\"}\r\n                                onClick={() => this.clearImage(1)}\r\n                              />\r\n                            ) : (\r\n                              \"\"\r\n                            )}\r\n                            <img\r\n                              src={imageCMTTruoc}\r\n                              alt=\"avatar\"\r\n                              style={{ maxHeight: 130 }}\r\n                              id={\"imgTruoc\"}\r\n                            />\r\n                          </div>\r\n                        ) : (\r\n                          contentCameraEmpty\r\n                        )}\r\n                        <div\r\n                          style={{\r\n                            display:\r\n                              imageCMTTruoc === \"\" && !isCheckOut\r\n                                ? \"block\"\r\n                                : \"none\",\r\n                          }}\r\n                        >\r\n                          {cameraContentScan}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"action\">\r\n                        <Button\r\n                          icon={\"camera\"}\r\n                          // disabled = {true}\r\n                          // disabled={videoInput.length === 0}\r\n                          // onClick={() => this.scanFile(1)}\r\n                        >\r\n                          Ảnh giấy tờ\r\n                        </Button>\r\n                      </div>\r\n                    </div>\r\n                  </Col>\r\n                  <Col xl={8} lg={24}>\r\n                    <div className={\"camera-content\"}>\r\n                      <div className=\"content\">\r\n                        {loadingChanDung ? (\r\n                          <Icon type={\"loading\"} />\r\n                        ) : imageChanDung !== \"\" ? (\r\n                          <div className={\"box-image\"}>\r\n                            <Icon\r\n                              className={\"close-ico\"}\r\n                              type={\"close\"}\r\n                              onClick={() => this.clearImage(3)}\r\n                            />\r\n                            <img\r\n                              src={imageChanDung}\r\n                              alt=\"avatar\"\r\n                              style={{ maxHeight: 130 }}\r\n                            />\r\n                          </div>\r\n                        ) : (\r\n                          contentCameraEmpty\r\n                        )}\r\n                        <div\r\n                          className={\"camera-canvas\"}\r\n                          style={{\r\n                            display:\r\n                              imageChanDung === \"\" && !isCheckOut\r\n                                ? \"flex\"\r\n                                : \"none\",\r\n                          }}\r\n                        >\r\n                          {cameraContentChanDung}\r\n                          <canvas\r\n                            id={\"detect-canvas\"}\r\n                            ref={this.canvasRef}\r\n                            style={{ zoom: 0.15 }}\r\n                          />\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"action\">\r\n                        <Button\r\n                          icon={\"camera\"}\r\n                          // disabled={true}\r\n                          // onClick={() => this.triggerUpload()}\r\n                        >\r\n                          Ảnh chân dung\r\n                        </Button>\r\n                      </div>\r\n                    </div>\r\n                  </Col>\r\n                  <Col xl={4} lg={0} />\r\n                </Row>\r\n              </div>\r\n              <div className={\"box box-info\"}>\r\n                <div className=\"title\">THÔNG TIN VÀO - RA</div>\r\n                <Form>\r\n                  <Row>\r\n                    <Col {...COL_ITEM_LAYOUT_HALF}>\r\n                      <Item\r\n                        label={\"Giờ vào\"}\r\n                        {...ITEM_LAYOUT_HALF}\r\n                        className={\"datepicker\"}\r\n                      >\r\n                        <Input\r\n                          placeholder={\"\"}\r\n                          style={{ width: \"30%\", maxWidth: 100 }}\r\n                          value={\r\n                            isCheckIn ||\r\n                            isCheckOut ||\r\n                            checkCheckOut ||\r\n                            (dataCMT.HoVaTen !== \"\" && dataCMT.SoCMND !== \"\")\r\n                              ? valueGioVaoHS\r\n                              : \"\"\r\n                          }\r\n                          disabled\r\n                        />\r\n                        <Input\r\n                          placeholder={\"\"}\r\n                          style={{\r\n                            width: \"calc(70% - 20px)\",\r\n                            marginLeft: 20,\r\n                            maxWidth: 180,\r\n                          }}\r\n                          value={\r\n                            isCheckIn ||\r\n                            isCheckOut ||\r\n                            checkCheckOut ||\r\n                            (dataCMT.HoVaTen !== \"\" && dataCMT.SoCMND !== \"\")\r\n                              ? valueGioVaoDMY\r\n                              : \"\"\r\n                          }\r\n                          disabled\r\n                          suffix={<Icon type={\"calendar\"} />}\r\n                        />\r\n                      </Item>\r\n                    </Col>\r\n                    <Col {...COL_ITEM_LAYOUT_HALF}>\r\n                      <Row>\r\n                        <Col {...COL_COL_ITEM_LAYOUT_RIGHT}>\r\n                          <Item label={\"Lý do gặp\"} {...ITEM_LAYOUT_HALF}>\r\n                            <Select\r\n                              placeholder={\"Chọn lý do gặp\"}\r\n                              noGetPopupContainer\r\n                              value={dataCMT.LyDoGap}\r\n                              onChange={(value) =>\r\n                                this.changeValueCMT(\"LyDoGap\", value)\r\n                              }\r\n                            >\r\n                              <Option value={1}>Họp</Option>\r\n                              <Option value={2}>Gặp cán bộ</Option>\r\n                              <Option value={3}>Khác</Option>\r\n                            </Select>\r\n                          </Item>\r\n                        </Col>\r\n                      </Row>\r\n                    </Col>\r\n                  </Row>\r\n                  <Row>\r\n                    <Col {...COL_ITEM_LAYOUT_HALF}>\r\n                      <Item\r\n                        label={\"Giờ ra\"}\r\n                        {...ITEM_LAYOUT_HALF}\r\n                        className={\"datepicker\"}\r\n                      >\r\n                        <Input\r\n                          placeholder={\"\"}\r\n                          style={{ width: \"30%\", maxWidth: 100 }}\r\n                          value={\r\n                            isCheckOut\r\n                              ? moment(today).format(\"HH:mm\")\r\n                              : valueGioRaHS\r\n                          }\r\n                          disabled\r\n                        />\r\n                        <Input\r\n                          placeholder={\"\"}\r\n                          style={{\r\n                            width: \"calc(70% - 20px)\",\r\n                            marginLeft: 20,\r\n                            maxWidth: 180,\r\n                          }}\r\n                          value={\r\n                            isCheckOut\r\n                              ? moment(today).format(\"DD/MM/YYYY\")\r\n                              : valueGioRaDMY\r\n                          }\r\n                          disabled\r\n                          suffix={<Icon type={\"calendar\"} />}\r\n                        />\r\n                      </Item>\r\n                    </Col>\r\n                    <Col {...COL_ITEM_LAYOUT_HALF}>\r\n                      <Row>\r\n                        <Col {...COL_COL_ITEM_LAYOUT_RIGHT}>\r\n                          {dataCMT.LyDoGap === 2 ? (\r\n                            <Item label={\"Đối tượng gặp\"} {...ITEM_LAYOUT_HALF}>\r\n                              <TreeSelect\r\n                                noGetPopupContainer\r\n                                dropdownStyle={{ maxHeight: 300 }}\r\n                                value={dataCMT.GapCanBo}\r\n                                showSearch\r\n                                treeData={DoiTuongGap}\r\n                                placeholder=\"Chọn đối tượng cần gặp\"\r\n                                allowClear\r\n                                treeDefaultExpandAll\r\n                                onChange={(value) => this.changeCanBo(value)}\r\n                              />\r\n                            </Item>\r\n                          ) : (\r\n                            \"\"\r\n                          )}\r\n                          {dataCMT.LyDoGap === 3 ? (\r\n                            <Item label={\"Nội dung\"} {...ITEM_LAYOUT_HALF}>\r\n                              <Input\r\n                                value={dataCMT.LyDoKhac}\r\n                                style={{ width: \"100%\" }}\r\n                                onChange={(value) =>\r\n                                  this.changeValueCMT(\r\n                                    \"LyDoKhac\",\r\n                                    value.target.value\r\n                                  )\r\n                                }\r\n                              />\r\n                            </Item>\r\n                          ) : (\r\n                            \"\"\r\n                          )}\r\n                        </Col>\r\n                      </Row>\r\n                    </Col>\r\n                  </Row>\r\n                  <Row>\r\n                    <Col {...COL_ITEM_LAYOUT_HALF} />\r\n                    <Col {...COL_ITEM_LAYOUT_HALF}>\r\n                      <Row>\r\n                        <Col {...COL_COL_ITEM_LAYOUT_RIGHT}>\r\n                          <Item label={\"Mã thẻ\"} {...ITEM_LAYOUT_HALF}>\r\n                            <PopoverCustom\r\n                              content={this.contentPopover(dataPopover, 1)}\r\n                              visible={visiblePopoverMaThe}\r\n                              trigger={\"click\"}\r\n                              onVisibleChange={this.changeVisiblePopoverMaThe}\r\n                              placement={\"bottomLeft\"}\r\n                            >\r\n                              <Input.Search\r\n                                style={{ width: \"100%\" }}\r\n                                onSearch={(value) => this.blurMaThe(value, 1)}\r\n                                maxLength={20}\r\n                                value={dataCMT.MaThe}\r\n                                placeholder={\"Nhập mã thẻ\"}\r\n                                onChange={(value) =>\r\n                                  this.changeValueCMT(\r\n                                    \"MaThe\",\r\n                                    value.target.value\r\n                                  )\r\n                                }\r\n                                id={\"txtMaThe\"}\r\n                                loading={loadingSearchMaThe}\r\n                                onKeyDown={this.selectIndex}\r\n                              />\r\n                            </PopoverCustom>\r\n                          </Item>\r\n                        </Col>\r\n                      </Row>\r\n                    </Col>\r\n                  </Row>\r\n                </Form>\r\n              </div>\r\n              <div className={\"box box-info box-relative\"}>\r\n                <div className=\"title flex\">\r\n                  THÔNG TIN KHÁCH\r\n                  {listCheckin.length ? (\r\n                    <div\r\n                      style={{ marginLeft: 10 }}\r\n                      className={\"sub-title queue-title\"}\r\n                      onClick={this.openModalHangDoi}\r\n                    >\r\n                      (Có {listCheckin.length} khách trong hàng đợi)\r\n                    </div>\r\n                  ) : (\r\n                    \"\"\r\n                  )}\r\n                </div>\r\n                {recognitionTruoc ||\r\n                recognitionSau ||\r\n                recognitionChanDung ||\r\n                loadingDataScan ? (\r\n                  <div className={\"div-loading\"}>\r\n                    <div className={\"spin\"}>\r\n                      <Spin />\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n                <Form>\r\n                  <Row>\r\n                    <Col {...COL_ITEM_LAYOUT_HALF}>\r\n                      <Item\r\n                        label={\r\n                          <span>\r\n                            Họ tên <span style={{ color: \"red\" }}>*</span>\r\n                          </span>\r\n                        }\r\n                        {...ITEM_LAYOUT_HALF}\r\n                      >\r\n                        <PopoverCustom\r\n                          content={this.contentPopover(dataPopover, 3)}\r\n                          visible={visiblePopoverHoTen}\r\n                          trigger={\"click\"}\r\n                          onVisibleChange={this.changeVisiblePopoverHoTen}\r\n                          placement={\"bottomLeft\"}\r\n                        >\r\n                          <Input.Search\r\n                            style={{ width: \"100%\" }}\r\n                            value={dataCMT.HoVaTen}\r\n                            onChange={(value) =>\r\n                              this.changeValueCMT(\"HoVaTen\", value.target.value)\r\n                            }\r\n                            onSearch={(value) => this.blurMaThe(value, 3)}\r\n                            id={\"txtHoTen\"}\r\n                            loading={loadingSearchHoTen}\r\n                            onKeyDown={this.selectIndex}\r\n                          />\r\n                        </PopoverCustom>\r\n                      </Item>\r\n                    </Col>\r\n                    <Col {...COL_ITEM_LAYOUT_HALF}>\r\n                      <Row>\r\n                        <Col {...COL_COL_ITEM_LAYOUT_RIGHT}>\r\n                          <Item label={\"Giới tính\"} {...ITEM_LAYOUT_HALF}>\r\n                            <Select\r\n                              value={dataCMT.GioiTinh}\r\n                              onChange={(value) =>\r\n                                this.changeValueCMT(\"GioiTinh\", value)\r\n                              }\r\n                            >\r\n                              <Option value={\"Nam\"}>Nam</Option>\r\n                              <Option value={\"Nữ\"}>Nữ</Option>\r\n                            </Select>\r\n                          </Item>\r\n                        </Col>\r\n                      </Row>\r\n                    </Col>\r\n                  </Row>\r\n                  <Row>\r\n                    <Col {...COL_ITEM_LAYOUT_HALF}>\r\n                      <Item\r\n                        label={\r\n                          <span>\r\n                            Số giấy tờ <span style={{ color: \"red\" }}>*</span>\r\n                          </span>\r\n                        }\r\n                        {...ITEM_LAYOUT_HALF}\r\n                      >\r\n                        <PopoverCustom\r\n                          content={this.contentPopover(dataPopover, 2)}\r\n                          visible={visiblePopoverCMND}\r\n                          trigger={\"click\"}\r\n                          onVisibleChange={this.changeVisiblePopoverCMND}\r\n                          placement={\"bottomLeft\"}\r\n                        >\r\n                          <Input.Search\r\n                            style={{ width: \"100%\" }}\r\n                            value={dataCMT.SoCMND}\r\n                            onChange={(value) =>\r\n                              this.changeValueCMT(\"SoCMND\", value.target.value)\r\n                            }\r\n                            maxLength={12}\r\n                            onSearch={(value) => this.blurMaThe(value, 2)}\r\n                            loading={loadingSearchCMND}\r\n                            id={\"txtCMND\"}\r\n                            onKeyDown={this.selectIndex}\r\n                          />\r\n                        </PopoverCustom>\r\n                      </Item>\r\n                    </Col>\r\n                    <Col {...COL_ITEM_LAYOUT_HALF}>\r\n                      <Row>\r\n                        <Col {...COL_COL_ITEM_LAYOUT_RIGHT}>\r\n                          <Item label={\"Số điện thoại\"} {...ITEM_LAYOUT_HALF}>\r\n                            <Input\r\n                              style={{ width: \"100%\" }}\r\n                              value={dataCMT.DienThoai}\r\n                              onChange={(value) =>\r\n                                this.changeValueCMT(\r\n                                  \"DienThoai\",\r\n                                  value.target.value\r\n                                )\r\n                              }\r\n                              onKeyPress={this.inputNumber}\r\n                            />\r\n                          </Item>\r\n                        </Col>\r\n                      </Row>\r\n                    </Col>\r\n                  </Row>\r\n                  <Row>\r\n                    <Col {...COL_ITEM_LAYOUT_HALF}>\r\n                      <Item label={\"Loại giấy tờ\"} {...ITEM_LAYOUT_HALF}>\r\n                        <Input\r\n                          style={{ width: \"100%\" }}\r\n                          value={dataCMT.LoaiGiayTo}\r\n                          onChange={(value) =>\r\n                            this.changeValueCMT(\r\n                              \"LoaiGiayTo\",\r\n                              value.target.value\r\n                            )\r\n                          }\r\n                        />\r\n                      </Item>\r\n                    </Col>\r\n                    <Col {...COL_ITEM_LAYOUT_HALF}>\r\n                      <Row>\r\n                        <Col {...COL_COL_ITEM_LAYOUT_RIGHT}>\r\n                          <Item label={\"Nơi công tác\"} {...ITEM_LAYOUT_HALF}>\r\n                            <Input\r\n                              style={{ width: \"100%\" }}\r\n                              value={dataCMT.TenCoQuan}\r\n                              onChange={(value) =>\r\n                                this.changeValueCMT(\r\n                                  \"TenCoQuan\",\r\n                                  value.target.value\r\n                                )\r\n                              }\r\n                            />\r\n                          </Item>\r\n                        </Col>\r\n                      </Row>\r\n                    </Col>\r\n                  </Row>\r\n                  <Row>\r\n                    <Col {...COL_ITEM_LAYOUT_HALF}>\r\n                      <Item label={\"Địa chỉ\"} {...ITEM_LAYOUT_HALF}>\r\n                        <Input\r\n                          style={{ width: \"100%\" }}\r\n                          value={dataCMT.HoKhau}\r\n                          onChange={(value) =>\r\n                            this.changeValueCMT(\"HoKhau\", value.target.value)\r\n                          }\r\n                        />\r\n                      </Item>\r\n                    </Col>\r\n                    {/* <Col {...COL_ITEM_LAYOUT_HALF}>\r\n                      <Row>\r\n                        <Col {...COL_COL_ITEM_LAYOUT_RIGHT}>\r\n                          <Item label={\"Thân nhiệt (°C)\"} {...ITEM_LAYOUT_HALF}>\r\n                            <PopoverCustom\r\n                              content={this.getContentBadge(listTemper)}\r\n                              visible={listTemper.length && visibleBadge}\r\n                              trigger={\"click\"}\r\n                              onVisibleChange={this.handleVisibleBadge}\r\n                              placement={\"bottomLeft\"}\r\n                            >\r\n                              <Input\r\n                                style={{ width: \"100%\" }}\r\n                                value={dataCMT.ThanNhiet}\r\n                                readOnly\r\n                                id={\"txtTemper\"}\r\n                                addonAfter={\r\n                                  listTemper.length ? (\r\n                                    listTemper.length\r\n                                  ) : temperUsing.time ? (\r\n                                    <div\r\n                                      className={\"x-red\"}\r\n                                      onClick={this.clearUsing}\r\n                                    >\r\n                                      X\r\n                                    </div>\r\n                                  ) : (\r\n                                    \"\"\r\n                                  )\r\n                                }\r\n                                onChange={(value) =>\r\n                                  this.changeValueCMT(\r\n                                    \"ThanNhiet\",\r\n                                    value.target.value\r\n                                  )\r\n                                }\r\n                              />\r\n                            </PopoverCustom>\r\n                          </Item>\r\n                        </Col>\r\n                      </Row>\r\n                    </Col> */}\r\n                  </Row>\r\n                </Form>\r\n                {checkCheckOut ? (\r\n                  <div className={\"notice-checkout\"}>Khách đã checkout</div>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n              </div>\r\n            </div>\r\n          </Col>\r\n          <Col xl={5} lg={6} md={6} sm={0} xs={0} className=\"col-second\">\r\n            <div className=\"title center\">KHÁCH ĐANG CHECKIN</div>\r\n            <div className=\"boxSearch\">\r\n              <Input.Search\r\n                allowClear\r\n                onSearch={(value) => this.onSearch(value, \"Keyword\")}\r\n                placeholder={\"Tìm thông tin khách\"}\r\n              />\r\n            </div>\r\n            <div className=\"card-container\">\r\n              {ListCheckinLoaded.map((item) => (\r\n                <CardCheckin\r\n                  AnhCMT={item.AnhCMND_MTBase64}\r\n                  AnhChanDung={item.AnhChanDungBase64}\r\n                  TenCanBo={item.HoVaTen}\r\n                  onCheckOut={(e) => this.callCheckOut(e, item.ThongTinVaoRaID)}\r\n                  SoCMT={item.SoCMND}\r\n                  MaThe={item.MaThe}\r\n                  GioVao={item.GioVao}\r\n                  isPicked={\r\n                    this.state.dataCMT.ThongTinVaoRaID === item.ThongTinVaoRaID\r\n                  }\r\n                  onClick={() => this.loadDataCheckOut(item)}\r\n                />\r\n              ))}\r\n            </div>\r\n          </Col>\r\n          <Col xl={5} lg={6} md={6} sm={0} xs={0} className=\"col-third\">\r\n            <div className=\"title center\">LƯỢT KHÁCH TRONG NGÀY</div>\r\n            <div className=\"box-container\">\r\n              <div\r\n                className=\"box-info\"\r\n                style={{ backgroundImage: `url(${imgCheckin})` }}\r\n              >\r\n                <div className=\"text-number\">\r\n                  Tổng số khách tới: {TongHopNgay.Tong}\r\n                </div>\r\n              </div>\r\n              <div\r\n                className=\"box-info\"\r\n                style={{ backgroundImage: `url(${imgMetting})` }}\r\n              >\r\n                <div className=\"text-number\">\r\n                  Khách đang checkin: {TongHopNgay.DangGap}\r\n                </div>\r\n              </div>\r\n              <div\r\n                className=\"box-info\"\r\n                style={{ backgroundImage: `url(${imgCheckout})` }}\r\n              >\r\n                <div className=\"text-number\">\r\n                  Khách đã checkout: {TongHopNgay.DaVe}\r\n                </div>\r\n              </div>\r\n              <div className=\"div-report\">\r\n                <div className=\"title center\">LỌC BÁO CÁO</div>\r\n                <div className=\"main-report flex\">\r\n                  <div className=\"report-label\" style={{ width: \"100%\" }}>\r\n                    Thời gian\r\n                  </div>\r\n                </div>\r\n                <div className=\"main-report flex\">\r\n                  <div className=\"report-wrapper\" style={{ width: \"70%\" }}>\r\n                    Từ{\" \"}\r\n                    <DatePickerFormat\r\n                      style={{ width: 120 }}\r\n                      value={filterBaoCao.TuNgay}\r\n                      onChange={(value) =>\r\n                        this.changeFilterBaoCao(value, \"TuNgay\")\r\n                      }\r\n                    />\r\n                  </div>\r\n                  <div className=\"report-wrapper\" style={{ width: \"70%\" }}>\r\n                    Đến{\" \"}\r\n                    <DatePickerFormat\r\n                      style={{ width: 120 }}\r\n                      value={filterBaoCao.DenNgay}\r\n                      onChange={(value) =>\r\n                        this.changeFilterBaoCao(value, \"DenNgay\")\r\n                      }\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"main-report\">\r\n                  <div className=\"report-label\">Đơn vị / Cá nhân</div>\r\n                  <div className=\"report-wrapper\">\r\n                    <TreeSelect\r\n                      style={{ width: \"100%\" }}\r\n                      dropdownStyle={{ maxHeight: 300 }}\r\n                      showSearch\r\n                      treeData={DoiTuongGap}\r\n                      placeholder=\"Chọn đối tượng cần gặp\"\r\n                      allowClear\r\n                      treeDefaultExpandAll\r\n                      onChange={(value) =>\r\n                        this.changeFilterBaoCao(value, \"CanBoGapID\")\r\n                      }\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"main-report\">\r\n                  <div className=\"report-label\">Lễ tân</div>\r\n                  <div className=\"report-wrapper\">\r\n                    <Select\r\n                      style={{ width: \"100%\" }}\r\n                      showSearch\r\n                      allowClear\r\n                      placeholder={\"Chọn lễ tân tiếp đón\"}\r\n                      onChange={(value) =>\r\n                        this.changeFilterBaoCao(value, \"LeTanID\")\r\n                      }\r\n                    >\r\n                      {DanhSachLeTan.map((item) => {\r\n                        return (\r\n                          <Option\r\n                            value={item.CanBoID}\r\n                            label={`${item.TenCanBo} ${item.TenCoQuan}`}\r\n                          >\r\n                            <Tooltip\r\n                              title={`${item.TenCanBo} - ${item.TenCoQuan}`}\r\n                            >\r\n                              {item.TenCanBo} - <i>{item.TenCoQuan}</i>\r\n                            </Tooltip>\r\n                          </Option>\r\n                        );\r\n                      })}\r\n                    </Select>\r\n                  </div>\r\n                </div>\r\n                <div className=\"action-report\">\r\n                  <Button\r\n                    type={\"primary\"}\r\n                    onClick={this.TaoBaoCao}\r\n                    loading={loadingBaoCao}\r\n                  >\r\n                    Thống kê\r\n                  </Button>\r\n                </div>\r\n                <ModalBaoCao\r\n                  dataBaoCao={ListBaoCao}\r\n                  onCancel={this.closeBaoCao}\r\n                  visible={showBaoCao}\r\n                  filterData={filterBaoCao}\r\n                  key={modalKey}\r\n                />\r\n                <ModalHangDoi\r\n                  listCheckin={listCheckin}\r\n                  visible={visibleModalHangDoi}\r\n                  key={modalKey}\r\n                  onCancel={this.closeModalHangDoi}\r\n                  chooseLine={this.chonHangDoiCheckin}\r\n                  deleteLine={this.xoaHangDoiCheckin}\r\n                />\r\n              </div>\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n        <div className={\"div-footer\"}>\r\n          <div className={\"div-action\"}>\r\n            <Button\r\n              type={\"primary\"}\r\n              onClick={this.CheckIn}\r\n              disabled={\r\n                isCheckOut ||\r\n                loading ||\r\n                dataCMT.HoVaTen === \"\" ||\r\n                dataCMT.SoCMND === \"\" ||\r\n                role.add === 0 ||\r\n                user_id === 1\r\n              }\r\n            >\r\n              Checkin\r\n            </Button>\r\n            <Button\r\n              type={\"primary\"}\r\n              onClick={this.CheckOut}\r\n              disabled={\r\n                !isCheckOut || loading || role.add === 0 || user_id === 1\r\n              }\r\n            >\r\n              Checkout\r\n            </Button>\r\n            <Button icon={\"redo\"} onClick={this.reload}>\r\n              Tải lại\r\n            </Button>\r\n          </div>\r\n          <div\r\n            className={\"div-action\"}\r\n            style={{ color: \"#096DD9\", marginTop: 10, fontWeight: \"bold\" }}\r\n          >\r\n            <ins>Lưu ý</ins>: Có thể nhập tên, số CMND hoặc Mã thẻ để thực hiện\r\n            checkout\r\n          </div>\r\n        </div>\r\n        <div className=\"footer-main\">\r\n          <img src={iconGo} alt=\"\" width={30} style={{ marginRight: 10 }} />\r\n          <i>\r\n            Copyright © 2010-{currentYear} <b>GO SOLUTIONS</b>. All rights\r\n          </i>\r\n        </div>\r\n      </Wrapper>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    ...state.CheckinOut,\r\n    app: state.App,\r\n    thanNhiet: getConfigLocal(\"thanNhiet\", 37.5),\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n  ...actions,\r\n  changeCurrent,\r\n  setListTemperWait,\r\n  getListTemperFromSite,\r\n})(CheckinOut);\r\n","module.exports = Object.freeze({\r\n  COL_ITEM_LAYOUT_HALF: {\r\n    md: {span: 24},\r\n    lg: {span: 12}\r\n  },\r\n  ITEM_LAYOUT_HALF: {\r\n    labelAlign: \"left\",\r\n    labelCol: {lg: 7, md: 8, xs: 6},\r\n    wrapperCol: {lg: 15, md: 14, xs: 16},\r\n  },\r\n});"],"names":["apiUrl","uploadimage","server","apiImage","verification","checkin","apiInOut","checkinv4","apiInOutv4","checkout","checkoutv4","danhsachcanbo","danhsachletan","getbymathe","getbychandung","getimagecamera","getipcamera","getlistpaging","nhandien","UploadImage","param","apiPostAuth2","_objectSpread","Checkin","apiPostAuth","Checkinv4","Checkout","Checkoutv4","DanhSachCanBo","apiGetAuth","DanhSachLeTan","GetByMaThe","Verification","GetByChanDung","GetImageCamera","GetIPCamera","GetList","NhanDien","styled","div","_templateObject","_taggedTemplateLiteral","PopoverCustom","Popover","props","_jsx","children","CardWrapper","_jsxs","onClick","style","border","concat","isPicked","className","AnhChanDung","AnhCMT","src","Icon","type","TenCanBo","MaThe","SoCMT","moment","GioVao","format","onCheckOut","ModalBaoCao","Component","constructor","super","renderDivPrint","dataBaoCao","filterData","this","table","width","borderCollapse","fontFamily","th","textAlign","fontWeight","padding","td","colSpan","TuNgay","DenNgay","map","item","index","HoVaTen","TenCoQuan","DienThoai","SoCMND","HoKhau","GioRa","ThanNhiet","TenCanBoGap","TenBoPhanGap","exportExcel","html","link","blob","url","refPrint","current","innerHTML","Blob","URL","createObjectURL","document","createElement","href","download","body","appendChild","navigator","msSaveOrOpenBlob","click","removeChild","printComponent","oldIframe","querySelectorAll","length","forEach","element","parentNode","node","iframe","display","contentWindow","open","write","close","focus","print","renderLyDoGap","LyDoGap","LyDoKhac","React","state","render","visible","onCancel","column","title","align","text","record","dataIndex","Modal","top","footer","Button","marginLeft","Wrapper","BoxTable","columns","rowKey","dataSource","pagination","scroll","y","ref","deleteLine","e","stopPropagation","listCheckin","chooseLine","changeCurrent","setListTemperWait","getListTemperFromSite","appActions","currentYear","Date","getFullYear","Item","Form","COL_COL_ITEM_LAYOUT_RIGHT","Constants","ITEM_LAYOUT_HALF","COL_ITEM_LAYOUT_HALF","Constants2","today","CheckinOut","changeLoadingDataScan","loading","setState","loadingDataScan","handleConnectSocketScan","socket","WebSocket","console","log","onopen","onmessage","event","data","JSON","parse","status","cardObj","facePhoto","dataCMT","fullName","GioiTinh","sex","identityNumber","LoaiGiayTo","placeOfResidence","imageChanDung","faceObj","faceImage","onerror","error","onclose","componentDidMount","async","getInitData","interval","setInterval","getCamera","GetListCheckin","container","getElementsByClassName","addEventListener","ScrollContainer","connect","socketIO","stop","socketConnect","start","on","setDataOnSocket","getListTemperFromTopBar","MODEL_URL","faceapi","tinyFaceDetector","loadFromUri","faceLandmark68Net","ssdMobilenetv1","err","handleOnTemper","temper","timeDate","time","timeString","listTemper","temperUsing","push","selectTemper","user","localStorage","getItem","CoQuanSuDungPhanMem","coQuanSuDungPhanMem","dataScan","hoVaTen","soCMND","hoKhau","loaiGiayTo","gioiTinh","sessionCode","lyDoGap","GapCanBo","gapCanBo","donViCaNhan","dienThoai","tenCoQuan","imageCMTTruoc","anhCMND_MTBase64","app","temperWait","slice","target","scrollTop","scrollHeight","clientHeight","ListCheckinLoaded","TotalRow","PageNumber","api","then","response","Status","Data","onSearch","value","property","fillData","name","NgaySinh","birthday","address","id","NoiCapCMND","issue_by","NgayCapCMND","issue_date","undefined","message","destroy","warning","inputNumber","key","charCode","preventDefault","CheckIn","AnhChanDungBase64","AnhCMND_MTBase64","AnhCMND_MSBase64","imageCMTSau","arr","split","DonViCaNhan","success","content","okText","onOk","isCheckIn","showCamera","getList","handlePlayChanDung","dataSocket","connectionState","invoke","Message","catch","toString","CheckInv4","CheckOut","ThongTinVaoRaID","isCheckOut","CheckOutv4","callCheckOut","confirm","cancelText","changeCanBo","scanFile","videoInput","base64","webcamRefTruoc","getScreenshot","height","loadingTruoc","recognitionTruoc","image","result_code","result_message","webcamRefSau","loadingSau","recognitionSau","Scan","triggerUpload","clearInterval","videoCapture","loadingChanDung","webcamRefChanDung","image_cmt","image_cmt2","image_live","recognitionChanDung","verify_result","reload","keyCamera","checkCheckOut","visiblePopoverMaThe","visiblePopoverHoTen","visiblePopoverCMND","dataPopover","loadingSearchMaThe","loadingSearchHoTen","loadingSearchCMND","selectIndex","isScanFile","loadingBaoCao","visibleBadge","visibleModalHangDoi","changeValueCMT","properties","toUpperCase","contentPopover","widthPopover","getElementById","clientWidth","loadDataCheckOut","paddingLeft","lodash","getUserMedia","mediaDevices","enumerateDevices","devices","filter","device","kind","blurMaThe","LoaiCheckOut","changeFilterBaoCao","filterBaoCao","CanBoGapID","TaoBaoCao","Object","assign","apiBaoCao","ListBaoCao","showBaoCao","modalKey","closeBaoCao","clearImage","keyCode","handleVisibleBadge","getContentBadge","temperature","thanNhiet","findIndex","splice","parseFloat","warn","changeVisiblePopoverMaThe","changeVisiblePopoverHoTen","changeVisiblePopoverCMND","clearUsing","openModalHangDoi","closeModalHangDoi","chonHangDoiCheckin","dataFromList","xoaHangDoiCheckin","videoSource","canvasRef","readyState","displaySize","offsetWidth","offsetHeight","detection","resizedDetection","getContext","clearRect","CanBoID","loadDataFromNhanDien","dataNhanDien","LaCanBo","queryString","location","search","PageSize","Keyword","Type","LeTanID","componentWillUnmount","user_id","parseInt","store","getState","Auth","NguoiDungID","Redirect","to","role","roleBaoCao","TongHopNgay","DoiTuongGap","listRole","roleCheckin","view","history","valueGioVaoHS","valueGioVaoDMY","valueGioRaHS","valueGioRaDMY","videoConstraints","deviceIDChanDung","find","label","includes","deviceIDScan","cameraContentChanDung","Webcam","audio","screenshotFormat","deviceId","zoom","onUserMedia","cameraContentScan","contentCameraEmpty","fontSize","color","Row","Col","xl","lg","md","sm","xs","gutter","alt","maxHeight","icon","Input","placeholder","maxWidth","disabled","suffix","Select","noGetPopupContainer","onChange","Option","TreeSelect","dropdownStyle","showSearch","treeData","allowClear","treeDefaultExpandAll","trigger","onVisibleChange","placement","Search","maxLength","onKeyDown","Spin","onKeyPress","CardCheckin","backgroundImage","imgCheckin","Tong","imgMetting","DangGap","imgCheckout","DaVe","DatePickerFormat","Tooltip","ModalHangDoi","add","marginTop","iconGo","marginRight","App","getConfigLocal","actions","module","exports","freeze","span","labelAlign","labelCol","wrapperCol"],"sourceRoot":""}