webpackJsonp([6],{1962:function(e,n,t){"use strict";function a(e){return function(){var n=e.apply(this,arguments);return new Promise(function(e,t){function a(o,r){try{var i=n[o](r),c=i.value}catch(e){return void t(e)}if(!i.done)return Promise.resolve(c).then(function(e){a("next",e)},function(e){a("throw",e)});e(c)}return a("next")})}}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function r(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!==typeof n&&"function"!==typeof n?e:n}function i(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}function c(e){return Object.assign({},e.Guest,{appHeight:e.App.height,appWidth:e.App.width})}Object.defineProperty(n,"__esModule",{value:!0});var s=t(34),l=t.n(s),u=t(0),d=t.n(u),p=t(80),h=t(2461),f=t.n(h),m=t(3402),g=t(771),v=t.n(g),b=t(415),y=t(24),C=t(40),w=t(3403),O=t(27),x=t.n(O),k=t(3587),S=t(3588),D=t(3590),M=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),j=function(e){function n(e){o(this,n);var t=r(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));T.call(t),document.title="Checkin",t.webcamRef=d.a.createRef();var a=v.a.parse(t.props.location.search);return t.socketIO=null,t.state={filterData:a,imageCMTTruoc:"",imageCMTSau:"",imageChanDung:"",videoInput:[],indexCamera:0,step:1,recognition:!1,modalKey:1,visibleModalCheckin:!1,dataCMT:{},validCheckin:!1,isCheckOut:!1,visibleModalSuccess:!1,dataCheckin:{},modalKeySuccess:0,fromQRCode:!1,sessionCode:"",dataSocket:null},t}return i(n,e),M(n,[{key:"componentDidMount",value:function(){var e=this;this.props.getInitData(this.state.filterData),this.getCamera();var n=this.state.filterData,t=n.c;t&&this.checkOutQRCode(t),this.socketIO&&this.socketIO.stop(),this.socketIO=Object(y.t)(),this.socketIO.start(),this.socketIO.on("scan",function(n){e.getDataCheckinSuccess(n)}),this.setSessionCode()}},{key:"componentWillUnmount",value:function(){this.socketIO.stop()}},{key:"render",value:function(){var e=this.state,n=e.videoInput,t=e.indexCamera,a=e.recognition,o=e.imageCMTTruoc,r=(e.validCheckin,e.filterData),i=(e.isCheckOut,this.state),c=i.visibleModalSuccess,s=i.dataCheckin,l=this.state,u=l.visibleModalCheckin,p=l.dataCMT,h=l.modalKey,g=l.modalKeySuccess,v=l.fromQRCode,b=l.sessionCode,w=l.dataSocket,O=this.props,x=O.appHeight,D=O.appWidth,M=O.DoiTuongGap,j=n.length?n[t]:null,T=j&&j.getCapabilities()||null,N=Object(y.c)(),E={width:T&&T.width?T.width.max:800,height:T&&T.height?T.height.max:600},_=1;N&&(_=E.height<x?E.height/x:x/E.height);var I={width:N?E.width*_:D,height:x,maxWidth:"100%",maxHeight:"100%"},U={width:N?"90%":400,height:300,maxWidth:"90%"},A=r.q?r.q:null;return A?d.a.createElement(m.a,{className:"index"},u?"":d.a.createElement("div",{className:"huong-dan"},"Vui l\xf2ng ch\u1ee5p m\u1eb7t tr\u01b0\u1edbc CMND/CCCD \u0111\u1ec3 checkin"),d.a.createElement("div",{className:"camera-container",style:Object.assign({},I)},d.a.createElement(f.a,{audio:!1,id:"capture-camera",ref:this.webcamRef,screenshotQuality:.9,screenshotFormat:"image/jpeg",videoConstraints:Object.assign({deviceId:j?j.deviceId:"",facingMode:N?{exact:"environment"}:{}},I)}),a?"":d.a.createElement("div",{className:"frame-camera",style:Object.assign({},U)}),a?d.a.createElement("div",{className:"loading"},"\u0110ang qu\xe9t gi\u1ea5y t\u1edd t\xf9y th\xe2n. Vui l\xf2ng \u0111\u1ee3i trong gi\xe2y l\xe1t"):""),d.a.createElement("div",{className:"action"},d.a.createElement(C.j,{type:"camera",onClick:this.captureCamera}),N?"":d.a.createElement(C.j,{type:"sync",onClick:this.switchCamera})),d.a.createElement(k.a,{key:h,visible:u,dataModal:p,DoiTuongGap:M,CoQuanID:A,CheckInSuccess:this.CheckInSuccess,fromQRCode:v,dataSocket:w,imageCMTTruoc:o,onCancel:this.closeModal,sessionCode:b,socketIO:this.socketIO}),d.a.createElement(S.a,{key:g,visible:c,dataCheckin:s,CheckOut:this.CheckOut,onCancel:this.closeModalSuccess})):null}}]),n}(u.Component),T=function(){var e=this;this.setSessionCode=function(){e.setState({sessionCode:Object(D.a)()})},this.getDataCheckinSuccess=function(n){var t=e.state.sessionCode;if(n.sessionCode===t){var a=Object.assign({},n,{HoVaTen:n.hoVaTen,TenDonViSuDung:n.tenDonViSuDung,GioVao:n.gioVao,QRCode:n.qrCode,ThongTinVaoRaID:n.thongTinVaoRaID});e.CheckInSuccess(a)}},this.checkOutQRCode=function(n){w.a.GetByID({ThongTinVaoRaID:n}).then(function(n){if(n.data.Status>0){var t=n.data.Data;t.GapCanBo=t.GapCanBo+"_"+t.DonViCaNhan,e.setState({dataCMT:t,isCheckOut:!0,fromQRCode:!0}),e.openModalCheckin()}else C.A.destroy(),C.A.error("Kh\xf4ng l\u1ea5y \u0111\u01b0\u1ee3c th\xf4ng tin checkin")}).catch(function(e){C.A.destroy(),C.A.error(e.toString())})},this.getCamera=a(l.a.mark(function n(){return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:navigator.getUserMedia&&navigator.mediaDevices.enumerateDevices().then(function(n){var t=n.filter(function(e){return"videoinput"===e.kind});t.length&&e.setState({videoInput:t})}).catch(function(e){C.A.error(e.toString())});case 1:case"end":return n.stop()}},n,e)})),this.captureCamera=function(){var n=e.webcamRef.current.getScreenshot();e.setState({imageCMTTruoc:n,recognition:!0},function(){w.a.ScanImage({image:n}).then(function(t){e.setState({recognition:!1}),200===t.data.result_code?e.fillData(t.data,n):500===t.data.result_code?(C.A.destroy(),C.A.error("\u1ea2nh CMND m\u1eb7t tr\u01b0\u1edbc kh\xf4ng h\u1ee3p l\u1ec7")):(C.A.destroy(),C.A.error(t.data.result_message))}).catch(function(n){e.setState({recognition:!1}),C.A.destroy(),C.A.error(n.toString())})})},this.switchCamera=function(){var n=e.state.indexCamera;n<e.state.videoInput.length-1?n++:n=0,e.setState({indexCamera:n})},this.fillData=function(n,t){var a=e.state,o=a.dataCMT,r=a.sessionCode,i=a.filterData;o.HoVaTen="N/A"!==n.name?n.name:"",o.NgaySinh="N/A"!==n.birthday?x()(n.birthday,"DD-MM-YYYY"):"",o.HoKhau="N/A"!==n.address?n.address:"",o.SoCMND="N/A"!==n.id?n.id:"",o.NoiCapCMND="N/A"!==n.issue_by?n.issue_by:"",o.NgayCapCMND="N/A"!==n.issue_date?x()(n.issue_date,"DD-MM-YYYY"):"",o.GioiTinh="N/A"!==n.sex?n.sex:void 0,o.LoaiGiayTo="N/A"!==n.document?n.document:"";var c=Object.assign({},o,{NgayCapCMND:o.NgayCapCMND?x()(o.NgayCapCMND).format("YYYY-MM-DD"):null,NgaySinh:o.NgaySinh?x()(o.NgaySinh).format("YYYY-MM-DD"):null,sessionCode:r,CoQuanSuDungPhanMem:i.q?parseInt(i.q):0,AnhCMND_MTBase64:t});e.socketIO.connectionState,e.setState({dataCMT:o,validCheckin:!0,dataSocket:c},function(){e.openModalCheckin()})},this.openModalCheckin=function(){var n=e.state.modalKey;n++,e.setState({modalKey:n,visibleModalCheckin:!0})},this.closeModal=function(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.setState({visibleModalCheckin:!1,isCheckOut:n},function(){t&&e.setState({dataCMT:{},imageCMTTruoc:"",validCheckin:!1,isCheckOut:!1})})},this.CheckInSuccess=function(n){e.closeModal(!1,!0);var t=e.state.modalKeySuccess;t++,e.setState({modalKeySuccess:t,visibleModalSuccess:!0,dataCheckin:n})},this.closeModalSuccess=function(){e.setState({visibleModalSuccess:!1,dataCheckin:{}},function(){e.props.history.push("/dashboard")})},this.CheckOut=function(){var n=e.state.dataCheckin;w.a.Checkout({ThongTinVaoRaID:n.ThongTinVaoRaID}).then(function(n){n.data.Status>0&&(C.A.success("Checkout th\xe0nh c\xf4ng"),e.closeModalSuccess())})}};n.default=Object(p.b)(c,b.a)(j)},1996:function(e,n,t){"use strict";function a(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function o(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!==typeof n&&"function"!==typeof n?e:n}function r(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}t.d(n,"a",function(){return m}),t.d(n,"b",function(){return f});var i=t(0),c=t.n(i),s=t(40),l=t(24),u=t(2003),d=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),p=Object(u.a)(s.s),h=function(e){function n(){return a(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return r(n,e),d(n,[{key:"render",value:function(){var e=this,n=this.props.noGetPopupContainer?Object.assign({},this.props):Object.assign({getPopupContainer:function(n){return e.props.getPopupContainer?e.props.getPopupContainer:Object(l.p)(n)}},this.props);return c.a.createElement(p,Object.assign({},n,{notFoundContent:n.notFoundContent?n.notFoundContent:"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u",showSearch:void 0===n.showSearch||n.showSearch,optionFilterProp:void 0!==n.optionFilterProp?n.optionFilterProp:"children",dropdownStyle:Object.assign({maxHeight:400,width:"auto",overflow:"auto"},this.props.dropdownStyle)}))}}]),n}(c.a.PureComponent),f=Object(u.b)(s.s.Option),m=Object(u.b)(s.s.Option);s.s.OptGroup;n.c=h},2003:function(e,n,t){"use strict";function a(e,n){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}t.d(n,"a",function(){return l}),t.d(n,"b",function(){return u});var o=t(47),r=t(79),i=(t.n(r),t(89)),c=a(["\n  &.ant-select {\n    box-sizing: border-box;\n    display: inline-block;\n    position: relative;\n    color: ",";\n    font-size: 13px;\n\n    .ant-select-selection {\n      background-color: #fff;\n      border-radius: 4px;\n      border: 1px solid ",";\n      ",";\n\n      &.ant-select-selection--single {\n        height: 35px;\n        position: relative;\n        cursor: pointer;\n      }\n\n      .ant-select-selection__rendered {\n        margin-left: 10px;\n        margin-right: 10px;\n        line-height: 33px;\n\n        .ant-select-selection-selected-value {\n          float: ",";\n          padding: ",";\n        }\n      }\n\n      .ant-select-arrow {\n        right: ",";\n        left: ",";\n      }\n\n      &:hover {\n        border-color: ",";\n      }\n    }\n\n    &.ant-select-focused {\n      .ant-select-selection {\n        &:focus,\n        &:active {\n          border-color: ",";\n          outline: 0;\n          box-shadow: 0 0 0 2px ",";\n        }\n      }\n    }\n\n    &.ant-select-open {\n      .ant-select-selection {\n        border-color: ",";\n        outline: 0;\n        box-shadow: 0 0 0 2px ",";\n      }\n    }\n\n    .ant-select-selection--multiple > ul > li,\n    .ant-select-selection--multiple .ant-select-selection__rendered > ul > li {\n      margin-top: 4px;\n      height: 26px;\n      line-height: 26px;\n    }\n\n    .ant-select-selection--multiple .ant-select-selection__choice {\n      background-color: ",";\n      color: ",";\n    }\n\n    .ant-select-tree li a {\n      font-size: 13px;\n      color: ",";\n    }\n    \n    .ant-select-selector {\n      .ant-select-selection-overflow {\n        max-height: 200px;\n        overflow: auto;\n      }\n    }\n  }\n"],["\n  &.ant-select {\n    box-sizing: border-box;\n    display: inline-block;\n    position: relative;\n    color: ",";\n    font-size: 13px;\n\n    .ant-select-selection {\n      background-color: #fff;\n      border-radius: 4px;\n      border: 1px solid ",";\n      ",";\n\n      &.ant-select-selection--single {\n        height: 35px;\n        position: relative;\n        cursor: pointer;\n      }\n\n      .ant-select-selection__rendered {\n        margin-left: 10px;\n        margin-right: 10px;\n        line-height: 33px;\n\n        .ant-select-selection-selected-value {\n          float: ",";\n          padding: ",";\n        }\n      }\n\n      .ant-select-arrow {\n        right: ",";\n        left: ",";\n      }\n\n      &:hover {\n        border-color: ",";\n      }\n    }\n\n    &.ant-select-focused {\n      .ant-select-selection {\n        &:focus,\n        &:active {\n          border-color: ",";\n          outline: 0;\n          box-shadow: 0 0 0 2px ",";\n        }\n      }\n    }\n\n    &.ant-select-open {\n      .ant-select-selection {\n        border-color: ",";\n        outline: 0;\n        box-shadow: 0 0 0 2px ",";\n      }\n    }\n\n    .ant-select-selection--multiple > ul > li,\n    .ant-select-selection--multiple .ant-select-selection__rendered > ul > li {\n      margin-top: 4px;\n      height: 26px;\n      line-height: 26px;\n    }\n\n    .ant-select-selection--multiple .ant-select-selection__choice {\n      background-color: ",";\n      color: ",";\n    }\n\n    .ant-select-tree li a {\n      font-size: 13px;\n      color: ",";\n    }\n    \n    .ant-select-selector {\n      .ant-select-selection-overflow {\n        max-height: 200px;\n        overflow: auto;\n      }\n    }\n  }\n"]),s=a(["\n  color: #000000;\n  .ant-select-dropdown-menu-item {\n    color: ",";\n  }\n"],["\n  color: #000000;\n  .ant-select-dropdown-menu-item {\n    color: ",";\n  }\n"]),l=function(e){return Object(o.c)(e)(c,Object(r.palette)("text",1),Object(r.palette)("border",0),Object(i.c)(),function(e){return"rtl"===e["data-rtl"]?"right":"left"},function(e){return"rtl"===e["data-rtl"]?"0 0 0 14px":"0 14px 0 0"},function(e){return"rtl"===e["data-rtl"]?"inherit":"5px"},function(e){return"rtl"===e["data-rtl"]?"5px":"inherit"},Object(r.palette)("primary",0),Object(r.palette)("primary",0),Object(r.palette)("primary",3),Object(r.palette)("primary",0),Object(r.palette)("primary",3),Object(r.palette)("grayscale",4),Object(r.palette)("text",1),Object(r.palette)("text",1))},u=function(e){return Object(o.c)(e)(s,Object(r.palette)("text",1))}},2012:function(e,n,t){"use strict";function a(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function o(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!==typeof n&&"function"!==typeof n?e:n}function r(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var i=t(0),c=t.n(i),s=t(40),l=t(24),u=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),d=function(e){function n(){return a(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return r(n,e),u(n,[{key:"render",value:function(){var e=this,n=this.props.noGetPopupContainer?Object.assign({},this.props):Object.assign({getPopupContainer:function(n){return e.props.getPopupContainer?e.props.getPopupContainer:Object(l.p)(n)}},this.props);return c.a.createElement(s.y,Object.assign({},n,{notFoundContent:n.notFoundContent?n.notFoundContent:"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u",dropdownStyle:void 0!==n.dropdownStyle?n.dropdownStyle:{maxHeight:400,overflow:"auto"},treeNodeFilterProp:void 0!==n.treeNodeFilterProp?n.treeNodeFilterProp:"title"}))}}]),n}(c.a.PureComponent);n.a=d},2461:function(e,n,t){!function(n,a){e.exports=a(t(0))}(0,function(e){return function(e){function n(a){if(t[a])return t[a].exports;var o=t[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var t={};return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(a,o,function(n){return e[n]}.bind(null,o));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(e,n,t){"use strict";function a(){return!(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)}t.r(n);var o=t("react"),r=function(){var e=function(n,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(n,t)};return function(n,t){function a(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}}(),i=function(){return i=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++){n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i.apply(this,arguments)},c=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols)for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)n.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(t[a[o]]=e[a[o]]);return t};!function(){"undefined"!==typeof window&&(void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){var n=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return n?new Promise(function(t,a){n.call(navigator,e,t,a)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))}();var s=function(e){function n(n){var t=e.call(this,n)||this;return t.canvas=null,t.ctx=null,t.unmounted=!1,t.state={hasUserMedia:!1},t}return r(n,e),n.prototype.componentDidMount=function(){var e=this,n=e.state,t=e.props;if(!a())return void t.onUserMediaError("getUserMedia not supported");n.hasUserMedia||this.requestUserMedia()},n.prototype.componentDidUpdate=function(e){var n=this.props;if(!a())return void n.onUserMediaError("getUserMedia not supported");var t=JSON.stringify(e.audioConstraints)!==JSON.stringify(n.audioConstraints),o=JSON.stringify(e.videoConstraints)!==JSON.stringify(n.videoConstraints),r=e.minScreenshotWidth!==n.minScreenshotWidth,i=e.minScreenshotHeight!==n.minScreenshotHeight;(o||r||i)&&(this.canvas=null,this.ctx=null),(t||o)&&(this.stopAndCleanup(),this.requestUserMedia())},n.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},n.stopMediaStream=function(e){e&&(e.getVideoTracks&&e.getAudioTracks?(e.getVideoTracks().map(function(n){e.removeTrack(n),n.stop()}),e.getAudioTracks().map(function(n){e.removeTrack(n),n.stop()})):e.stop())},n.prototype.stopAndCleanup=function(){var e=this.state;e.hasUserMedia&&(n.stopMediaStream(this.stream),e.src&&window.URL.revokeObjectURL(e.src))},n.prototype.getScreenshot=function(e){var n=this,t=n.state,a=n.props;if(!t.hasUserMedia)return null;var o=this.getCanvas(e);return o&&o.toDataURL(a.screenshotFormat,a.screenshotQuality)},n.prototype.getCanvas=function(e){var n=this,t=n.state,a=n.props;if(!this.video)return null;if(!t.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var o=this.video.videoWidth,r=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var i=o/r;o=a.minScreenshotWidth||this.video.clientWidth,r=o/i,a.minScreenshotHeight&&r<a.minScreenshotHeight&&(r=a.minScreenshotHeight,o=r*i)}this.canvas=document.createElement("canvas"),this.canvas.width=(null===e||void 0===e?void 0:e.width)||o,this.canvas.height=(null===e||void 0===e?void 0:e.height)||r,this.ctx=this.canvas.getContext("2d")}var c=this,s=c.ctx,l=c.canvas;return s&&l&&(a.mirrored&&(s.translate(l.width,0),s.scale(-1,1)),s.imageSmoothingEnabled=a.imageSmoothing,s.drawImage(this.video,0,0,(null===e||void 0===e?void 0:e.width)||l.width,(null===e||void 0===e?void 0:e.height)||l.height),a.mirrored&&(s.scale(-1,1),s.translate(-l.width,0))),l},n.prototype.requestUserMedia=function(){var e=this,t=this.props,a=function(a,o){var r={video:"undefined"===typeof o||o};t.audio&&(r.audio="undefined"===typeof a||a),navigator.mediaDevices.getUserMedia(r).then(function(t){e.unmounted?n.stopMediaStream(t):e.handleUserMedia(null,t)}).catch(function(n){e.handleUserMedia(n)})};if("mediaDevices"in navigator)a(t.audioConstraints,t.videoConstraints);else{var o=function(e){return{optional:[{sourceId:e}]}},r=function(e){var n=e.deviceId;return"string"===typeof n?n:Array.isArray(n)&&n.length>0?n[0]:"object"===typeof n&&n.ideal?n.ideal:null};MediaStreamTrack.getSources(function(e){var n=null,i=null;e.forEach(function(e){"audio"===e.kind?n=e.id:"video"===e.kind&&(i=e.id)});var c=r(t.audioConstraints);c&&(n=c);var s=r(t.videoConstraints);s&&(i=s),a(o(n),o(i))})}},n.prototype.handleUserMedia=function(e,n){var t=this.props;if(e||!n)return this.setState({hasUserMedia:!1}),void t.onUserMediaError(e);this.stream=n;try{this.video&&(this.video.srcObject=n),this.setState({hasUserMedia:!0})}catch(e){this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(n)})}t.onUserMedia(n)},n.prototype.render=function(){var e=this,n=this,t=n.state,a=n.props,r=a.audio,s=(a.forceScreenshotSourceSize,a.onUserMedia,a.onUserMediaError,a.screenshotFormat,a.screenshotQuality,a.minScreenshotWidth,a.minScreenshotHeight,a.audioConstraints,a.videoConstraints,a.imageSmoothing,a.mirrored),l=a.style,u=void 0===l?{}:l,d=c(a,["audio","forceScreenshotSourceSize","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style"]),p=s?i(i({},u),{transform:(u.transform||"")+" scaleX(-1)"}):u;return o.createElement("video",i({autoPlay:!0,src:t.src,muted:r,playsInline:!0,ref:function(n){e.video=n},style:p},d))},n.defaultProps={audio:!0,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},n}(o.Component);n.default=s},react:function(n,t){n.exports=e}}).default})},2477:function(e,n,t){"use strict";function a(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(r[e[n+0]]+r[e[n+1]]+r[e[n+2]]+r[e[n+3]]+"-"+r[e[n+4]]+r[e[n+5]]+"-"+r[e[n+6]]+r[e[n+7]]+"-"+r[e[n+8]]+r[e[n+9]]+"-"+r[e[n+10]]+r[e[n+11]]+r[e[n+12]]+r[e[n+13]]+r[e[n+14]]+r[e[n+15]]).toLowerCase();if(!Object(o.a)(t))throw TypeError("Stringified UUID is invalid");return t}for(var o=t(2478),r=[],i=0;i<256;++i)r.push((i+256).toString(16).substr(1));n.a=a},2478:function(e,n,t){"use strict";function a(e){return"string"===typeof e&&o.a.test(e)}var o=t(3592);n.a=a},3402:function(e,n,t){"use strict";var a=t(47),o=function(e,n){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}(["\n  &.index {\n    background: #000;\n    position: relative;\n    display: flex;\n    justify-content: center;\n    \n    .huong-dan {\n      background: #e9e9e9;\n      border-radius: 4px;\n      text-align: center;\n      position: absolute;\n      top: 10px;\n      z-index: 999;\n      padding: 5px;\n      font-weight: bold;\n      max-width: 90%;\n    }\n    \n    .action {\n      position: absolute;\n      bottom: 10px;\n      text-align: center;\n      width: 100%;\n      z-index: 999;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      \n      .anticon {\n        color: #fff;\n        font-size: 50px;\n        margin-right: 20px;\n        \n        &:last-child {\n          margin-right: 0;\n        }\n      }\n      \n      .ant-btn {\n        height: 40px;\n      }\n    }\n    \n    .btn-checkin {\n      position: absolute;\n      bottom: 10px;\n      right: 10px;\n      z-index: 999;\n    }\n    \n    .camera-container {\n      display: flex;\n      position: relative;\n      justify-content: center;\n      align-items: center;\n    \n      .frame-camera {\n        position: absolute;\n        border: dotted 6px #fff;\n        border-radius: 10px;\n        z-index: 999;\n        max-width: 90%;\n      }\n    \n      .loading {\n        position: absolute;\n        z-index: 999;\n        background: #ccc;\n        color: #fff;\n        width: 90%;\n        height: 200px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        font-size: 22px;\n        font-weight: bold;\n        text-transform: uppercase;\n        border-radius: 8px;\n        text-align: center;\n      }\n    }\n  }\n\n  &.modal {\n    .row {\n      display: flex;\n      align-items: center;\n      margin-bottom: 14px;\n      \n      &:last-child {\n        margin-bottom: 0;\n      }\n      \n      .label {\n        width: 30%;\n        font-weight: bold;\n        margin-right: 10px;\n      }\n      \n      .required {\n        &:after {\n          content: ' *';\n          color: red;\n        }\n      }\n      \n      .input {\n        width: 70%;\n        \n        .ant-select {\n          width: 100%;\n        }\n        \n        .ant-select-disabled {\n          color: rgba(0, 0, 0, 0.8);\n        }\n      }\n    }\n  }\n  \n  &.checkin-success {\n    .title {\n      text-transform: uppercase;\n      color: #096dd9;\n      font-size: 18px;\n      font-weight: bold;\n    }\n    \n    .row {\n      margin-bottom: 12px;\n      \n      img {\n        width: 250px;\n        height: 250px;\n        min-width: 250px;\n        min-height: 250px;\n      }\n    }\n    \n    .center {\n      text-align: center;\n    }\n  }\n  \n  &.footer-modal {\n    .ant-btn-primary[disabled] {\n      color: rgba(0, 0, 0, 0.8);\n    }\n  }\n"],["\n  &.index {\n    background: #000;\n    position: relative;\n    display: flex;\n    justify-content: center;\n    \n    .huong-dan {\n      background: #e9e9e9;\n      border-radius: 4px;\n      text-align: center;\n      position: absolute;\n      top: 10px;\n      z-index: 999;\n      padding: 5px;\n      font-weight: bold;\n      max-width: 90%;\n    }\n    \n    .action {\n      position: absolute;\n      bottom: 10px;\n      text-align: center;\n      width: 100%;\n      z-index: 999;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      \n      .anticon {\n        color: #fff;\n        font-size: 50px;\n        margin-right: 20px;\n        \n        &:last-child {\n          margin-right: 0;\n        }\n      }\n      \n      .ant-btn {\n        height: 40px;\n      }\n    }\n    \n    .btn-checkin {\n      position: absolute;\n      bottom: 10px;\n      right: 10px;\n      z-index: 999;\n    }\n    \n    .camera-container {\n      display: flex;\n      position: relative;\n      justify-content: center;\n      align-items: center;\n    \n      .frame-camera {\n        position: absolute;\n        border: dotted 6px #fff;\n        border-radius: 10px;\n        z-index: 999;\n        max-width: 90%;\n      }\n    \n      .loading {\n        position: absolute;\n        z-index: 999;\n        background: #ccc;\n        color: #fff;\n        width: 90%;\n        height: 200px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        font-size: 22px;\n        font-weight: bold;\n        text-transform: uppercase;\n        border-radius: 8px;\n        text-align: center;\n      }\n    }\n  }\n\n  &.modal {\n    .row {\n      display: flex;\n      align-items: center;\n      margin-bottom: 14px;\n      \n      &:last-child {\n        margin-bottom: 0;\n      }\n      \n      .label {\n        width: 30%;\n        font-weight: bold;\n        margin-right: 10px;\n      }\n      \n      .required {\n        &:after {\n          content: ' *';\n          color: red;\n        }\n      }\n      \n      .input {\n        width: 70%;\n        \n        .ant-select {\n          width: 100%;\n        }\n        \n        .ant-select-disabled {\n          color: rgba(0, 0, 0, 0.8);\n        }\n      }\n    }\n  }\n  \n  &.checkin-success {\n    .title {\n      text-transform: uppercase;\n      color: #096dd9;\n      font-size: 18px;\n      font-weight: bold;\n    }\n    \n    .row {\n      margin-bottom: 12px;\n      \n      img {\n        width: 250px;\n        height: 250px;\n        min-width: 250px;\n        min-height: 250px;\n      }\n    }\n    \n    .center {\n      text-align: center;\n    }\n  }\n  \n  &.footer-modal {\n    .ant-btn-primary[disabled] {\n      color: rgba(0, 0, 0, 0.8);\n    }\n  }\n"]);n.a=a.c.div(o)},3403:function(e,n,t){"use strict";var a=t(41),o=t(29),r={scanimage:o.b.apiImage+"recognition",verification:o.b.apiImage+"verification",checkin:o.b.apiInOutv2+"VaoRa/Vao",checkout:o.b.apiInOutv2+"VaoRa/Ra",getbymathe:o.b.apiInOutv2+"VaoRa/GetByMaThe",coquancanbo:o.b.apiInOutv2+"VaoRa/DanhSachDoiTuongGap",getbyid:o.b.apiInOutv2+"VaoRa/GetByID"},i={ScanImage:function(e){return Object(a.f)(r.scanimage,Object.assign({},e))},Verification:function(e){return Object(a.f)(r.verification,Object.assign({},e))},Checkin:function(e){return Object(a.d)(r.checkin,Object.assign({},e))},Checkout:function(e){return Object(a.d)(r.checkout,Object.assign({},e))},GetByMaThe:function(e){return Object(a.a)(r.getbymathe,Object.assign({},e))},DoiTuongGap:function(e){return Object(a.a)(r.coquancanbo,Object.assign({},e))},GetByID:function(e){return Object(a.a)(r.getbyid,Object.assign({},e))}};n.a=i},3464:function(e,n,t){"use strict";function a(){if(!o&&!(o="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(r)}n.a=a;var o,r=new Uint8Array(16)},3465:function(e,n,t){"use strict";function a(e){e=unescape(encodeURIComponent(e));for(var n=[],t=0;t<e.length;++t)n.push(e.charCodeAt(t));return n}var o=t(2477),r=t(3466);n.a=function(e,n,t){function i(e,i,c,s){if("string"===typeof e&&(e=a(e)),"string"===typeof i&&(i=Object(r.a)(i)),16!==i.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+e.length);if(l.set(i),l.set(e,i.length),l=t(l),l[6]=15&l[6]|n,l[8]=63&l[8]|128,c){s=s||0;for(var u=0;u<16;++u)c[s+u]=l[u];return c}return Object(o.a)(l)}try{i.name=e}catch(e){}return i.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",i.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",i}},3466:function(e,n,t){"use strict";function a(e){if(!Object(o.a)(e))throw TypeError("Invalid UUID");var n,t=new Uint8Array(16);return t[0]=(n=parseInt(e.slice(0,8),16))>>>24,t[1]=n>>>16&255,t[2]=n>>>8&255,t[3]=255&n,t[4]=(n=parseInt(e.slice(9,13),16))>>>8,t[5]=255&n,t[6]=(n=parseInt(e.slice(14,18),16))>>>8,t[7]=255&n,t[8]=(n=parseInt(e.slice(19,23),16))>>>8,t[9]=255&n,t[10]=(n=parseInt(e.slice(24,36),16))/1099511627776&255,t[11]=n/4294967296&255,t[12]=n>>>24&255,t[13]=n>>>16&255,t[14]=n>>>8&255,t[15]=255&n,t}var o=t(2478);n.a=a},3587:function(e,n,t){"use strict";function a(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function o(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!==typeof n&&"function"!==typeof n?e:n}function r(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var i=t(0),c=t.n(i),s=t(40),l=t(3402),u=t(1996),d=t(2012),p=t(27),h=t.n(p),f=t(3403),m=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}(),g=s.k.TextArea,v=function(e){function n(e){a(this,n);var t=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.onCancel=function(){t.props.onCancel(t.state.isCheckOut,!1)},t.onOk=function(e){e.preventDefault(),t.state.isCheckOut?t.checkOut():t.checkIn()},t.checkIn=function(){var e=t.state.dataModal,n=t.props,a=n.imageCMTTruoc,o=n.CoQuanID,r=n.sessionCode,i=n.socketIO;if(e.NgaySinh=e.NgaySinh?h()(e.NgaySinh).format("YYYY-MM-DD"):null,e.NgayCapCMND=e.NgayCapCMND?h()(e.NgayCapCMND).format("YYYY-MM-DD"):null,e.AnhCMND_MTBase64=a,!e.LyDoGap)return s.A.destroy(),void s.A.warning("Ch\u01b0a ch\u1ecdn l\xfd do");if(2===e.LyDoGap&&!e.GapCanBo)return s.A.destroy(),void s.A.warning("Ch\u01b0a ch\u1ecdn c\xe1n b\u1ed9 g\u1eb7p");e.DonViSuDungID=o;var c=Object.assign({},e,{NgayCapCMND:e.NgayCapCMND?h()(e.NgayCapCMND).format("YYYY-MM-DD"):null,NgaySinh:e.NgaySinh?h()(e.NgaySinh).format("YYYY-MM-DD"):null,sessionCode:r,CoQuanSuDungPhanMem:parseInt(o),AnhCMND_MTBase64:a});if(c.GapCanBo){var l=c.GapCanBo.split("_");c.GapCanBo=parseInt(l[0]),c.DonViCaNhan=parseInt(l[1])}delete c.DonViSuDungID,"Connected"===i.connectionState&&(i.invoke("scan",c),t.setState({sendSocket:!0}))},t.checkOut=function(){var e=t.state.ThongTinVaoRaID;e&&f.a.Checkout({ThongTinVaoRaID:e}).then(function(e){e.data.Status>0?s.n.success({title:"Th\xf4ng b\xe1o",content:"Checkout th\xe0nh c\xf4ng",okText:"\u0110\xf3ng",onOk:function(){t.props.onCancel(!1,!0)}}):(s.A.destroy(),s.A.error(e.data.Message))}).catch(function(e){s.A.destroy(),s.A.error(e.toString())})},t.changeData=function(e,n){var a=t.state.dataModal;a[n]=e,t.setState({dataModal:a})},t.state={dataModal:{},loading:!1,isCheckOut:!1,CoQuanID:null,GioVao:"",ThongTinVaoRaID:null,sendSocket:!1},t}return r(n,e),m(n,[{key:"componentDidMount",value:function(){var e=this,n=this.props,t=n.dataModal,a=n.CoQuanID,o=n.fromQRCode;this.setState({dataModal:t,CoQuanID:a,sendSocket:!1},function(){var n=e.state.dataModal;if(n.SoCMND){var t={MaThe:n.SoCMND,LoaiCheckOut:2,DonViSuDungID:o?n.DonViSuDungID:a};f.a.GetByMaThe(t).then(function(n){if(n.data.Status>0&&n.data.Data.length){var t=n.data.Data[0],a=h()(t.GioVao).format("DD/MM/YYYY HH:mm"),o=t.ThongTinVaoRaID,r=e.state.dataModal;r.HoVaTen=t.HoVaTen,r.GioiTinh=t.GioiTinh,r.HoKhauHoKhau=t.HoKhau,r.DienThoai=t.DienThoai,r.TenCoQuan=t.TenCoQuan,r.LyDoGap=t.LyDoGap,2===r.LyDoGap&&(r.GapCanBo=t.GapCanBo+"_"+t.DonViCaNhan),e.setState({isCheckOut:!0,GioVao:a,dataModal:r,ThongTinVaoRaID:o})}})}})}},{key:"render",value:function(){var e=this,n=this.props,t=n.visible,a=n.DoiTuongGap,o=this.state,r=o.dataModal,i=o.loading,p=o.isCheckOut,h=o.GioVao,f=o.sendSocket,m=p?"Th\xf4ng tin kh\xe1ch checkout":"Vui l\xf2ng ki\u1ec3m tra l\u1ea1i th\xf4ng tin v\xe0 ch\u1ecdn l\xfd do";return c.a.createElement(s.n,{title:m,width:450,visible:t,onCancel:this.onCancel,footer:c.a.createElement(l.a,{className:"footer-modal"},c.a.createElement(s.a,{key:"submit",htmlType:"submit",type:"primary",form:"myForm",onClick:this.onOk,disabled:f&&!p,loading:i},p?"Check Out":f?"L\u1ec5 t\xe2n \u0111ang ki\u1ec3m tra th\xf4ng tin, vui l\xf2ng \u0111\u1ee3i":"G\u1eedi th\xf4ng tin"),",")},c.a.createElement(l.a,{className:"modal"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"label required"},"L\xfd do g\u1eb7p"),c.a.createElement("div",{className:"input"},c.a.createElement(u.c,{placeholder:"Ch\u1ecdn l\xfd do g\u1eb7p",noGetPopupContainer:!0,value:r.LyDoGap,onChange:function(n){return e.changeData(n,"LyDoGap")},disabled:p||f},c.a.createElement(u.a,{value:1},"H\u1ecdp"),c.a.createElement(u.a,{value:2},"G\u1eb7p c\xe1n b\u1ed9"),c.a.createElement(u.a,{value:3},"Kh\xe1c")))),2===r.LyDoGap?c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"label required"},"C\xe1n b\u1ed9 g\u1eb7p"),c.a.createElement("div",{className:"input"},c.a.createElement(d.a,{disabled:p||f,dropdownStyle:{maxHeight:300,maxWidth:200},value:r.GapCanBo,showSearch:!0,treeData:a,placeholder:"Ch\u1ecdn c\xe1n b\u1ed9 c\u1ea7n g\u1eb7p",allowClear:!0,treeDefaultExpandAll:!0,onChange:function(n){return e.changeData(n,"GapCanBo")}}))):"",p?c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"label"},"Gi\u1edd v\xe0o"),c.a.createElement("div",{className:"input"},c.a.createElement(s.k,{value:h,readOnly:!0}))):"",c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"label"},"N\u01a1i c\xf4ng t\xe1c"),c.a.createElement("div",{className:"input"},c.a.createElement(s.k,{readOnly:p||f,onChange:function(n){return e.changeData(n.target.value,"TenCoQuan")},value:r.TenCoQuan}))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"label"},"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),c.a.createElement("div",{className:"input"},c.a.createElement(s.k,{readOnly:p||f,onChange:function(n){return e.changeData(n.target.value,"DienThoai")},value:r.DienThoai,maxLength:11}))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"label"},"H\u1ecd v\xe0 t\xean"),c.a.createElement("div",{className:"input"},c.a.createElement(s.k,{onChange:function(n){return e.changeData(n.target.value,"HoVaTen")},value:r.HoVaTen,readOnly:p||f}))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"label"},"Gi\u1edbi t\xednh"),c.a.createElement("div",{className:"input"},c.a.createElement(u.c,{disabled:p||f,value:r.GioiTinh,onChange:function(n){return e.changeData(n,"GioiTinh")}},c.a.createElement(u.a,{value:"Nam"},"Nam"),c.a.createElement(u.a,{value:"N\u1eef"},"N\u1eef")))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"label"},"S\u1ed1 gi\u1ea5y t\u1edd"),c.a.createElement("div",{className:"input"},c.a.createElement(s.k,{readOnly:p||f,onChange:function(n){return e.changeData(n.target.value,"SoCMND")},value:r.SoCMND,maxLength:12}))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"label"},"\u0110\u1ecba ch\u1ec9"),c.a.createElement("div",{className:"input"},c.a.createElement(g,{readOnly:p||f,rows:3,onChange:function(n){return e.changeData(n.target.value,"HoKhau")},value:r.HoKhau})))))}}]),n}(i.Component);n.a=v},3588:function(e,n,t){"use strict";function a(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function o(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!==typeof n&&"function"!==typeof n?e:n}function r(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var i=t(0),c=t.n(i),s=t(40),l=t(3402),u=(t(1996),t(2012),t(27)),d=t.n(u),p=(t(3403),t(3589)),h=(t.n(p),function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}()),f=function(e){function n(e){a(this,n);var t=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.onCancel=function(){s.n.confirm({title:"Th\xf4ng b\xe1o",content:"Qu\xfd kh\xe1ch c\xf3 mu\u1ed1n \u0111\xf3ng c\u1eeda s\u1ed5 n\xe0y kh\xf4ng ?",okText:"C\xf3",cancelText:"Kh\xf4ng",onOk:function(){t.props.onCancel()}})},t.onOk=function(e){e.preventDefault(),t.props.CheckOut()},t.downloadQR=function(){var e=t.props.dataCheckin,n=document.createElement("a");n.href=e.QRCode,n.target="_blank",n.download="Checkout-"+e.HoVaTen+".png",n.click()},t.printRef=c.a.createRef(),t.state={},t}return r(n,e),h(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,n=e.visible,t=e.dataCheckin,a=this.state.loading;return c.a.createElement(s.n,{title:"",width:450,visible:n,onCancel:this.onCancel,footer:[c.a.createElement(s.a,{key:"submit",htmlType:"submit",type:"primary",form:"myForm",onClick:this.downloadQR,loading:a},"T\u1ea3i xu\u1ed1ng"),c.a.createElement(s.a,{key:"submit",htmlType:"submit",type:"primary",form:"myForm",onClick:this.onOk,loading:a},"Check Out")]},c.a.createElement(l.a,{className:"checkin-success"},c.a.createElement("div",{className:"title row center"},"Checkin th\xe0nh c\xf4ng"),c.a.createElement("div",{className:"row"},"Ch\xe0o m\u1eebng qu\xfd kh\xe1ch ",t.HoVaTen," \u0111\u1ebfn ",t.TenDonViSuDung," !"),c.a.createElement("div",{className:"row"},"Qu\xfd kh\xe1ch v\xe0o l\xfac ",d()(t.GioVao).format("HH:mm")),c.a.createElement("div",null,c.a.createElement("div",{className:"row"},"M\xe3 checkin c\u1ee7a qu\xfd kh\xe1ch:"),c.a.createElement("div",{className:"row center"},c.a.createElement("img",{src:t.QRCode}))),c.a.createElement("div",{className:"row center"},"Qu\xfd kh\xe1ch vui l\xf2ng l\u01b0u tr\u1eef l\u1ea1i m\xe3 QR n\xe0y \u0111\u1ec3 s\u1eed d\u1ee5ng cho m\u1ee5c \u0111\xedch ki\u1ec3m tra n\u1ed9i b\u1ed9. Xin c\u1ea3m \u01a1n !")))}}]),n}(i.Component);n.a=f},3589:function(e,n,t){var a,o,r;!function(t,i){o=[],a=i,void 0!==(r="function"===typeof a?a.apply(n,o):a)&&(e.exports=r)}(0,function(){return function e(n,t,a){function o(e){var n=e.split(/[:;,]/),t=n[1],a="base64"==n[2]?atob:decodeURIComponent,o=a(n.pop()),r=o.length,i=0,c=new Uint8Array(r);for(i;i<r;++i)c[i]=o.charCodeAt(i);return new m([c],{type:t})}function r(e,n){if("download"in h)return h.href=e,h.setAttribute("download",g),h.className="download-js-link",h.innerHTML="downloading...",h.style.display="none",document.body.appendChild(h),setTimeout(function(){h.click(),document.body.removeChild(h),!0===n&&setTimeout(function(){s.URL.revokeObjectURL(h.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,l)),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var t=document.createElement("iframe");document.body.appendChild(t),!n&&/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,l)),t.src=e,setTimeout(function(){document.body.removeChild(t)},333)}var i,c,s=window,l="application/octet-stream",u=a||l,d=n,p=!t&&!a&&d,h=document.createElement("a"),f=function(e){return String(e)},m=s.Blob||s.MozBlob||s.WebKitBlob||f,g=t||"download";if(m=m.call?m.bind(s):Blob,"true"===String(this)&&(d=[d,u],u=d[0],d=d[1]),p&&p.length<2048&&(g=p.split("/").pop().split("?")[0],h.href=p,-1!==h.href.indexOf(p))){var v=new XMLHttpRequest;return v.open("GET",p,!0),v.responseType="blob",v.onload=function(n){e(n.target.response,g,l)},setTimeout(function(){v.send()},0),v}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(d)){if(!(d.length>2096103.424&&m!==f))return navigator.msSaveBlob?navigator.msSaveBlob(o(d),g):r(d);d=o(d),u=d.type||l}else if(/([\x80-\xff])/.test(d)){var b=0,y=new Uint8Array(d.length),C=y.length;for(b;b<C;++b)y[b]=d.charCodeAt(b);d=new m([y],{type:u})}if(i=d instanceof m?d:new m([d],{type:u}),navigator.msSaveBlob)return navigator.msSaveBlob(i,g);if(s.URL)r(s.URL.createObjectURL(i),!0);else{if("string"===typeof i||i.constructor===f)try{return r("data:"+u+";base64,"+s.btoa(i))}catch(e){return r("data:"+u+","+encodeURIComponent(i))}c=new FileReader,c.onload=function(e){r(this.result)},c.readAsDataURL(i)}return!0}})},3590:function(e,n,t){"use strict";var a=(t(3591),t(3593),t(3595));t.d(n,"a",function(){return a.a});t(3596),t(3598),t(3599),t(2478),t(2477),t(3466)},3591:function(e,n,t){"use strict";t(3464),t(2477)},3592:function(e,n,t){"use strict";n.a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},3593:function(e,n,t){"use strict";var a=t(3465),o=t(3594);Object(a.a)("v3",48,o.a)},3594:function(e,n,t){"use strict";function a(e){if("string"===typeof e){var n=unescape(encodeURIComponent(e));e=new Uint8Array(n.length);for(var t=0;t<n.length;++t)e[t]=n.charCodeAt(t)}return o(i(c(e),8*e.length))}function o(e){for(var n=[],t=32*e.length,a="0123456789abcdef",o=0;o<t;o+=8){var r=e[o>>5]>>>o%32&255,i=parseInt(a.charAt(r>>>4&15)+a.charAt(15&r),16);n.push(i)}return n}function r(e){return 14+(e+64>>>9<<4)+1}function i(e,n){e[n>>5]|=128<<n%32,e[r(n)-1]=n;for(var t=1732584193,a=-271733879,o=-1732584194,i=271733878,c=0;c<e.length;c+=16){var l=t,u=a,m=o,g=i;t=d(t,a,o,i,e[c],7,-680876936),i=d(i,t,a,o,e[c+1],12,-389564586),o=d(o,i,t,a,e[c+2],17,606105819),a=d(a,o,i,t,e[c+3],22,-1044525330),t=d(t,a,o,i,e[c+4],7,-176418897),i=d(i,t,a,o,e[c+5],12,1200080426),o=d(o,i,t,a,e[c+6],17,-1473231341),a=d(a,o,i,t,e[c+7],22,-45705983),t=d(t,a,o,i,e[c+8],7,1770035416),i=d(i,t,a,o,e[c+9],12,-1958414417),o=d(o,i,t,a,e[c+10],17,-42063),a=d(a,o,i,t,e[c+11],22,-1990404162),t=d(t,a,o,i,e[c+12],7,1804603682),i=d(i,t,a,o,e[c+13],12,-40341101),o=d(o,i,t,a,e[c+14],17,-1502002290),a=d(a,o,i,t,e[c+15],22,1236535329),t=p(t,a,o,i,e[c+1],5,-165796510),i=p(i,t,a,o,e[c+6],9,-1069501632),o=p(o,i,t,a,e[c+11],14,643717713),a=p(a,o,i,t,e[c],20,-373897302),t=p(t,a,o,i,e[c+5],5,-701558691),i=p(i,t,a,o,e[c+10],9,38016083),o=p(o,i,t,a,e[c+15],14,-660478335),a=p(a,o,i,t,e[c+4],20,-405537848),t=p(t,a,o,i,e[c+9],5,568446438),i=p(i,t,a,o,e[c+14],9,-1019803690),o=p(o,i,t,a,e[c+3],14,-187363961),a=p(a,o,i,t,e[c+8],20,1163531501),t=p(t,a,o,i,e[c+13],5,-1444681467),i=p(i,t,a,o,e[c+2],9,-51403784),o=p(o,i,t,a,e[c+7],14,1735328473),a=p(a,o,i,t,e[c+12],20,-1926607734),t=h(t,a,o,i,e[c+5],4,-378558),i=h(i,t,a,o,e[c+8],11,-2022574463),o=h(o,i,t,a,e[c+11],16,1839030562),a=h(a,o,i,t,e[c+14],23,-35309556),t=h(t,a,o,i,e[c+1],4,-1530992060),i=h(i,t,a,o,e[c+4],11,1272893353),o=h(o,i,t,a,e[c+7],16,-155497632),a=h(a,o,i,t,e[c+10],23,-1094730640),t=h(t,a,o,i,e[c+13],4,681279174),i=h(i,t,a,o,e[c],11,-358537222),o=h(o,i,t,a,e[c+3],16,-722521979),a=h(a,o,i,t,e[c+6],23,76029189),t=h(t,a,o,i,e[c+9],4,-640364487),i=h(i,t,a,o,e[c+12],11,-421815835),o=h(o,i,t,a,e[c+15],16,530742520),a=h(a,o,i,t,e[c+2],23,-995338651),t=f(t,a,o,i,e[c],6,-198630844),i=f(i,t,a,o,e[c+7],10,1126891415),o=f(o,i,t,a,e[c+14],15,-1416354905),a=f(a,o,i,t,e[c+5],21,-57434055),t=f(t,a,o,i,e[c+12],6,1700485571),i=f(i,t,a,o,e[c+3],10,-1894986606),o=f(o,i,t,a,e[c+10],15,-1051523),a=f(a,o,i,t,e[c+1],21,-2054922799),t=f(t,a,o,i,e[c+8],6,1873313359),i=f(i,t,a,o,e[c+15],10,-30611744),o=f(o,i,t,a,e[c+6],15,-1560198380),a=f(a,o,i,t,e[c+13],21,1309151649),t=f(t,a,o,i,e[c+4],6,-145523070),i=f(i,t,a,o,e[c+11],10,-1120210379),o=f(o,i,t,a,e[c+2],15,718787259),a=f(a,o,i,t,e[c+9],21,-343485551),t=s(t,l),a=s(a,u),o=s(o,m),i=s(i,g)}return[t,a,o,i]}function c(e){if(0===e.length)return[];for(var n=8*e.length,t=new Uint32Array(r(n)),a=0;a<n;a+=8)t[a>>5]|=(255&e[a/8])<<a%32;return t}function s(e,n){var t=(65535&e)+(65535&n);return(e>>16)+(n>>16)+(t>>16)<<16|65535&t}function l(e,n){return e<<n|e>>>32-n}function u(e,n,t,a,o,r){return s(l(s(s(n,e),s(a,r)),o),t)}function d(e,n,t,a,o,r,i){return u(n&t|~n&a,e,n,o,r,i)}function p(e,n,t,a,o,r,i){return u(n&a|t&~a,e,n,o,r,i)}function h(e,n,t,a,o,r,i){return u(n^t^a,e,n,o,r,i)}function f(e,n,t,a,o,r,i){return u(t^(n|~a),e,n,o,r,i)}n.a=a},3595:function(e,n,t){"use strict";function a(e,n,t){e=e||{};var a=e.random||(e.rng||o.a)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,n){t=t||0;for(var i=0;i<16;++i)n[t+i]=a[i];return n}return Object(r.a)(a)}var o=t(3464),r=t(2477);n.a=a},3596:function(e,n,t){"use strict";var a=t(3465),o=t(3597);Object(a.a)("v5",80,o.a)},3597:function(e,n,t){"use strict";function a(e,n,t,a){switch(e){case 0:return n&t^~n&a;case 1:return n^t^a;case 2:return n&t^n&a^t&a;case 3:return n^t^a}}function o(e,n){return e<<n|e>>>32-n}function r(e){var n=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"===typeof e){var r=unescape(encodeURIComponent(e));e=[];for(var i=0;i<r.length;++i)e.push(r.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var c=e.length/4+2,s=Math.ceil(c/16),l=new Array(s),u=0;u<s;++u){for(var d=new Uint32Array(16),p=0;p<16;++p)d[p]=e[64*u+4*p]<<24|e[64*u+4*p+1]<<16|e[64*u+4*p+2]<<8|e[64*u+4*p+3];l[u]=d}l[s-1][14]=8*(e.length-1)/Math.pow(2,32),l[s-1][14]=Math.floor(l[s-1][14]),l[s-1][15]=8*(e.length-1)&4294967295;for(var h=0;h<s;++h){for(var f=new Uint32Array(80),m=0;m<16;++m)f[m]=l[h][m];for(var g=16;g<80;++g)f[g]=o(f[g-3]^f[g-8]^f[g-14]^f[g-16],1);for(var v=t[0],b=t[1],y=t[2],C=t[3],w=t[4],O=0;O<80;++O){var x=Math.floor(O/20),k=o(v,5)+a(x,b,y,C)+w+n[x]+f[O]>>>0;w=C,C=y,y=o(b,30)>>>0,b=v,v=k}t[0]=t[0]+v>>>0,t[1]=t[1]+b>>>0,t[2]=t[2]+y>>>0,t[3]=t[3]+C>>>0,t[4]=t[4]+w>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,255&t[0],t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,255&t[1],t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,255&t[2],t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,255&t[3],t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,255&t[4]]}n.a=r},3598:function(e,n,t){"use strict"},3599:function(e,n,t){"use strict";t(2478)}});